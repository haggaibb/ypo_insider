// Generated by DDC, the Dart Development Compiler (to JavaScript).
// Version: 3.3.1 (stable) (Wed Mar 6 13:09:19 2024 +0000) on "macos_arm64"
// Module: packages/_flutterfire_internals/_flutterfire_internals.dart
// Flags: newRuntimeTypes(true), soundNullSafety(true), enableAsserts(true)
define(['dart_sdk', 'packages/firebase_core_platform_interface/src/pigeon/mocks.dart'], (function load__packages___flutterfire_internals___flutterfire_internals_dart(dart_sdk, packages__firebase_core_platform_interface__src__pigeon__mocks$46dart) {
  'use strict';
  const dart_rti = dart_sdk.dart_rti;
  const core = dart_sdk.core;
  const js_interop = dart_sdk.js_interop;
  const js_util = dart_sdk.js_util;
  const dart = dart_sdk.dart;
  const dartx = dart_sdk.dartx;
  const firebase_core_platform_interface = packages__firebase_core_platform_interface__src__pigeon__mocks$46dart.firebase_core_platform_interface;
  var _flutterfire_internals = Object.create(dart.library);
  var $replaceFirst = dartx.replaceFirst;
  var $contains = dartx.contains;
  var $toString = dartx.toString;
  dart._checkModuleNullSafetyMode(true);
  dart._checkModuleRuntimeTypes(true);
  var T$ = {
    dynamic: () => (T$.dynamic = dart.constFn(dart_rti.findType("@")))(),
    VoidToRN: () => (T$.VoidToRN = dart.constFn(dart_rti.findType("0^?()<core|Object?>")))(),
    Object: () => (T$.Object = dart.constFn(dart_rti.findType("core|Object")))(),
    String: () => (T$.String = dart.constFn(dart_rti.findType("core|String")))(),
    StringN: () => (T$.StringN = dart.constFn(dart_rti.findType("core|String?")))(),
    JSError: () => (T$.JSError = dart.constFn(dart_rti.findType("_interceptors|JavaScriptObject")))(),
    Future: () => (T$.Future = dart.constFn(dart_rti.findType("async|Future<@>")))(),
    StackTrace: () => (T$.StackTrace = dart.constFn(dart_rti.findType("core|StackTrace")))(),
    dynamicAnddynamicToNever: () => (T$.dynamicAnddynamicToNever = dart.constFn(dart_rti.findType("0&(@,@)")))(),
    ObjectNTobool: () => (T$.ObjectNTobool = dart.constFn(dart_rti.findType("core|bool(core|Object?)")))(),
    Stream: () => (T$.Stream = dart.constFn(dart_rti.findType("async|Stream<@>")))()
  };
  const CT = Object.create({
    _: () => (C, CT)
  });
  dart.defineLazy(CT, {
    get C0() {
      return C[0] = dart.fn(_flutterfire_internals._testException, T$.ObjectNTobool());
    }
  }, false);
  var C = [void 0];
  var I = ["file:///Users/haggaibarel/.pub-cache/hosted/pub.dev/_flutterfire_internals-1.3.40/lib/_flutterfire_internals.dart"];
  var _is = dart.privateName(dart_rti, "_is");
  var _as = dart.privateName(dart_rti, "_as");
  var _eval = dart.privateName(dart_rti, "_eval");
  _flutterfire_internals['ObjectX|guard'] = function ObjectX$124guard(T, R, $this, cb) {
    if (T[_is]($this)) return cb(T[_as]($this));
    return null;
  };
  _flutterfire_internals['ObjectX|get#guard'] = function ObjectX$124get$35guard(T, $this) {
    return dart.gFn((R, cb) => _flutterfire_internals['ObjectX|guard'](T, R, $this, cb), T[_eval]("0^?(0^(0))<core|Object?>"), dart.constList([T$.dynamic()], T$.dynamic()));
  };
  _flutterfire_internals['ObjectX|safeCast'] = function ObjectX$124safeCast(T, R, $this) {
    if (R[_is]($this)) return R[_as]($this);
    return null;
  };
  _flutterfire_internals['ObjectX|get#safeCast'] = function ObjectX$124get$35safeCast(T, $this) {
    return dart.gFn(R => _flutterfire_internals['ObjectX|safeCast'](T, R, $this), T$.VoidToRN(), dart.constList([T$.dynamic()], T$.dynamic()));
  };
  _flutterfire_internals._safeConvertFromPossibleJSObject = function _safeConvertFromPossibleJSObject(value) {
    if (T$.Object()[_is](value)) {
      return js_interop['JSStringToString|get#toDart'](T$.String()[_as](value));
    } else {
      return T$.String()[_as](value);
    }
  };
  _flutterfire_internals._firebaseExceptionFromCoreFirebaseError = function _firebaseExceptionFromCoreFirebaseError(firebaseError, opts) {
    let plugin = opts && 'plugin' in opts ? opts.plugin : null;
    let codeParser = opts && 'codeParser' in opts ? opts.codeParser : null;
    let messageParser = opts && 'messageParser' in opts ? opts.messageParser : null;
    let convertCode = _flutterfire_internals._safeConvertFromPossibleJSObject(js_util.getProperty(T$.StringN(), firebaseError, "code"));
    let code = codeParser(convertCode);
    let convertMessage = _flutterfire_internals._safeConvertFromPossibleJSObject(js_util.getProperty(T$.StringN(), firebaseError, "message"));
    let message = messageParser != null ? messageParser(code, convertMessage) : convertMessage[$replaceFirst]("(" + dart.str(js_util.getProperty(T$.StringN(), firebaseError, "code")) + ")", "");
    return new firebase_core_platform_interface.FirebaseException.new({plugin: plugin, message: message, code: code});
  };
  _flutterfire_internals._testException = function _testException(objectException) {
    let exception = T$.JSError()[_as](dart.nullCheck(objectException));
    let message = _flutterfire_internals._safeConvertFromPossibleJSObject(js_util.getProperty(T$.StringN(), exception, "message"));
    return message[$contains]("Firebase") || dart.toString(exception)[$contains]("FirebaseError");
  };
  _flutterfire_internals._mapException = function _mapException(exception, opts) {
    let plugin = opts && 'plugin' in opts ? opts.plugin : null;
    let codeParser = opts && 'codeParser' in opts ? opts.codeParser : null;
    let messageParser = opts && 'messageParser' in opts ? opts.messageParser : null;
    if (!_flutterfire_internals._testException(exception)) dart.assertFailed(null, I[0], 109, 10, "_testException(exception)");
    if (T$.JSError()[_is](exception)) {
      return _flutterfire_internals._firebaseExceptionFromCoreFirebaseError(exception, {plugin: plugin, codeParser: codeParser, messageParser: messageParser});
    }
    dart.throw(new core.StateError.new("unrecognized error " + dart.str(exception)));
  };
  _flutterfire_internals.guardWebExceptions = function guardWebExceptions(R, cb, opts) {
    let plugin = opts && 'plugin' in opts ? opts.plugin : null;
    let codeParser = opts && 'codeParser' in opts ? opts.codeParser : null;
    let messageParser = opts && 'messageParser' in opts ? opts.messageParser : null;
    try {
      let value = cb();
      if (T$.Future()[_is](value)) {
        return R[_as](value.catchError(dart.fn((err, stack) => core.Error.throwWithStackTrace(_flutterfire_internals._mapException(err, {plugin: plugin, codeParser: codeParser, messageParser: messageParser}), T$.StackTrace()[_as](stack)), T$.dynamicAnddynamicToNever()), {test: C[0] || CT.C0}));
      } else if (T$.Stream()[_is](value)) {
        return R[_as](value.handleError(dart.fn((err, stack) => core.Error.throwWithStackTrace(_flutterfire_internals._mapException(err, {plugin: plugin, codeParser: codeParser, messageParser: messageParser}), T$.StackTrace()[_as](stack)), T$.dynamicAnddynamicToNever()), {test: C[0] || CT.C0}));
      }
      return value;
    } catch (t$36$35e) {
      let error = dart.getThrown(t$36$35e);
      let stack = dart.stackTrace(t$36$35e);
      if (T$.Object()[_is](error)) {
        if (!_flutterfire_internals._testException(error)) {
          dart.rethrow(t$36$35e);
        }
        core.Error.throwWithStackTrace(_flutterfire_internals._mapException(error, {plugin: plugin, codeParser: codeParser, messageParser: messageParser}), stack);
      } else
        throw t$36$35e;
    }
  };
  dart.moduleConstCaches.set("packages/_flutterfire_internals/_flutterfire_internals.dart", C);
  dart_rti._Universe.addRules(dart.typeUniverse, JSON.parse('{"core|String":{"Comparable.T":"core|String","core|Comparable":["core|String"],"core|Pattern":[]},"core|Comparable":{"Comparable.T":"1"},"_interceptors|JavaScriptObject":{"_interceptors|Interceptor":[],"_interceptors|JSObject":[]},"async|Future":{"Future.T":"1"},"async|Stream":{"Stream.T":"1"}}'));
  dart.trackLibraries("packages/_flutterfire_internals/_flutterfire_internals.dart", {
    "package:_flutterfire_internals/_flutterfire_internals.dart": _flutterfire_internals
  }, {
  }, '{"version":3,"sourceRoot":"","sources":["_flutterfire_internals.dart"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;mFAyCkC;AAC9B,QAAS,eAAM,MAAO,AAAE,GAAA,CAAM;AAC9B,UAAO;EACT;;AAHG,wBAA6B,4DAA7B,EAAE;EAGL;;AAKE,QAAS,eAAM,MAAY;AAC3B,UAAO;EACT;;AAHG;EAGH;sGAI8C;AAC9C,QAAU,iBAAN,KAAK;AACP,YAAsC,2CAAxB,iBAAN,KAAK;;AAEb,YAAa,kBAAN,KAAK;;EAEhB;oHAGuB;QACL;QACiB;QACsB;AAEjD,sBAAc,wDAA+C,kCAAd,aAAa;AAC5D,eAAO,AAAU,UAAA,CAAC,WAAW;AAEtB,yBACT,wDAA+C,kCAAd,aAAa;AAC5C,kBAAU,AAAc,aAAD,WACvB,AAAa,aAAA,CAAC,IAAI,EAAE,cAAc,IAClC,AAAe,cAAD,gBAAc,AAAyB,eAAP,kCAAd,aAAa,aAAM,KAAI;AAE7D,UAAO,qEACG,MAAM,WACL,OAAO,QACV,IAAI;EAEd;kEAS4B;AACpB,oBAA6B,kBAAF,eAAf,eAAe;AAE3B,kBAAU,wDAA2C,kCAAV,SAAS;AAE1D,UAAO,AAAQ,AAAqB,QAAtB,YAAU,eACV,AAAW,cAArB,SAAS,aAAqB;EACpC;gEAIU;QACQ;QACiB;QACsB;AAEvD,SAAO,sCAAe,SAAS;AAE/B,QAAc,kBAAV,SAAS;AACX,YAAO,gEACL,SAAS,WACD,MAAM,cACF,UAAU,iBACP,aAAa;;AAIhC,eAAM,wBAAW,AAA+B,iCAAV,SAAS;EACjD;6EAKe;QACG;QACiB;QACa;AAE9C;AACQ,kBAAQ,AAAE,EAAA;AAEhB,UAAU,iBAAN,KAAK;AACP,cAWE,QAXK,AAAM,KAAD,YACV,SAAC,KAAK,UAAgB,+BACpB,qCACE,GAAG,WACK,MAAM,cACF,UAAU,iBACP,aAAa,yBAE9B,KAAK;YAIJ,KAAU,iBAAN,KAAK;AACd,cAWE,QAXK,AAAM,KAAD,aACV,SAAC,KAAK,UAAgB,+BACpB,qCACE,GAAG,WACK,MAAM,cACF,UAAU,iBACP,aAAa,yBAE9B,KAAK;;AAMX,YAAO,MAAK;;UACL;UAAO;AAAd;AACA,aAAK,sCAAe,KAAK;AAEvB;;AAGI,uCACJ,qCACE,KAAK,WACG,MAAM,cACF,UAAU,iBACP,aAAa,IAE9B,KAAK;;;;EAGX","file":"../../../../../../../packages/_flutterfire_internals/_flutterfire_internals.dart.lib.js"}');
  // Exports:
  return {
    _flutterfire_internals: _flutterfire_internals
  };
}));

//# sourceMappingURL=_flutterfire_internals.dart.lib.js.map
