// Generated by DDC, the Dart Development Compiler (to JavaScript).
// Version: 3.3.1 (stable) (Wed Mar 6 13:09:19 2024 +0000) on "macos_arm64"
// Module: packages/test_api/src/backend/platform_selector.dart
// Flags: newRuntimeTypes(true), soundNullSafety(true), enableAsserts(true)
define(['dart_sdk', 'packages/boolean_selector/src/none.dart', 'packages/source_span/src/span_exception.dart', 'packages/test_api/src/backend/runtime.dart', 'packages/test_api/src/backend/compiler.dart', 'packages/test_api/src/backend/operating_system.dart'], (function load__packages__test_api__src__backend__platform_selector_dart(dart_sdk, packages__boolean_selector__src__none$46dart, packages__source_span__src__span_exception$46dart, packages__test_api__src__backend__runtime$46dart, packages__test_api__src__backend__compiler$46dart, packages__test_api__src__backend__operating_system$46dart) {
  'use strict';
  const dart_rti = dart_sdk.dart_rti;
  const core = dart_sdk.core;
  const _internal = dart_sdk._internal;
  const collection = dart_sdk.collection;
  const dart = dart_sdk.dart;
  const dartx = dart_sdk.dartx;
  const impl = packages__boolean_selector__src__none$46dart.src__impl;
  const all = packages__boolean_selector__src__none$46dart.src__all;
  const span_exception = packages__source_span__src__span_exception$46dart.src__span_exception;
  const runtime$ = packages__test_api__src__backend__runtime$46dart.src__backend__runtime;
  const compiler$ = packages__test_api__src__backend__compiler$46dart.src__backend__compiler;
  const operating_system = packages__test_api__src__backend__operating_system$46dart.src__backend__operating_system;
  var platform_selector = Object.create(dart.library);
  var $toString = dartx.toString;
  var $hashCode = dartx.hashCode;
  dart._checkModuleNullSafetyMode(true);
  dart._checkModuleRuntimeTypes(true);
  var T$ = {
    BooleanSelector: () => (T$.BooleanSelector = dart.constFn(dart_rti.findType("boolean_selector__boolean_selector|BooleanSelector")))(),
    VoidToBooleanSelector: () => (T$.VoidToBooleanSelector = dart.constFn(dart_rti.findType("boolean_selector__boolean_selector|BooleanSelector()")))(),
    FormatException: () => (T$.FormatException = dart.constFn(dart_rti.findType("core|FormatException")))(),
    void: () => (T$.void = dart.constFn(dart_rti.findType("~")))(),
    StringTobool: () => (T$.StringTobool = dart.constFn(dart_rti.findType("core|bool(core|String)")))(),
    VoidTovoid: () => (T$.VoidTovoid = dart.constFn(dart_rti.findType("~()")))(),
    PlatformSelector: () => (T$.PlatformSelector = dart.constFn(dart_rti.findType("test_api__src__backend__platform_selector|PlatformSelector")))(),
    FnAndSourceSpanNToT: () => (T$.FnAndSourceSpanNToT = dart.constFn(dart_rti.findType("0^(0^()[source_span__src__span|SourceSpan?])<core|Object?>")))(),
    SetOfStringTovoid: () => (T$.SetOfStringTovoid = dart.constFn(dart_rti.findType("~(core|Set<core|String>)")))(),
    SuitePlatformTobool: () => (T$.SuitePlatformTobool = dart.constFn(dart_rti.findType("core|bool(test_api__src__backend__suite_platform|SuitePlatform)")))(),
    PlatformSelectorToPlatformSelector: () => (T$.PlatformSelectorToPlatformSelector = dart.constFn(dart_rti.findType("test_api__src__backend__platform_selector|PlatformSelector(test_api__src__backend__platform_selector|PlatformSelector)")))(),
    SourceSpanN: () => (T$.SourceSpanN = dart.constFn(dart_rti.findType("source_span__src__span|SourceSpan?")))(),
    String: () => (T$.String = dart.constFn(dart_rti.findType("core|String")))()
  };
  var G = {
    LinkedHashSetOfString: () => (G.LinkedHashSetOfString = dart.constFn(collection.LinkedHashSet$(T$.String())))()
  };
  const CT = Object.create({
    _: () => (C, CT)
  });
  dart.defineLazy(CT, {
    get C2() {
      return C[2] = dart.constList([], T$.String());
    },
    get C1() {
      return C[1] = dart.const(Object.setPrototypeOf({
        [All_variables]: C[2] || CT.C2
      }, all.All.prototype));
    },
    get C0() {
      return C[0] = dart.const(Object.setPrototypeOf({
        [_span]: null,
        [_inner$]: C[1] || CT.C1
      }, platform_selector.PlatformSelector.prototype));
    }
  }, false);
  var C = Array(3).fill(void 0);
  var I = [
    "package:test_api/src/backend/platform_selector.dart",
    "package:boolean_selector/boolean_selector.dart",
    "package:source_span/src/span.dart"
  ];
  var _inner$ = dart.privateName(platform_selector, "PlatformSelector._inner");
  var _span = dart.privateName(platform_selector, "PlatformSelector._span");
  var _inner = dart.privateName(platform_selector, "_inner");
  var _span$ = dart.privateName(platform_selector, "_span");
  var _is = dart.privateName(dart_rti, "_is");
  var All_variables = dart.privateName(all, "All.variables");
  platform_selector.PlatformSelector = class PlatformSelector extends core.Object {
    get [_inner]() {
      return this[_inner$];
    }
    set [_inner](value) {
      super[_inner] = value;
    }
    get [_span$]() {
      return this[_span];
    }
    set [_span$](value) {
      super[_span$] = value;
    }
    static ['_#parse#tearOff'](selector, span = null) {
      return new platform_selector.PlatformSelector.parse(selector, span);
    }
    static ['_#_#tearOff'](_inner) {
      return new platform_selector.PlatformSelector.__(_inner);
    }
    static _wrapFormatException(T, body, span = null) {
      if (span == null) return body();
      try {
        return body();
      } catch (t$36$35e) {
        let error = dart.getThrown(t$36$35e);
        if (T$.FormatException()[_is](error)) {
          dart.throw(new span_exception.SourceSpanFormatException.new(error.message, span));
        } else
          throw t$36$35e;
      }
    }
    validate(validVariables) {
      if (this === platform_selector.PlatformSelector.all) return;
      platform_selector.PlatformSelector._wrapFormatException(T$.void(), dart.fn(() => this[_inner].validate(dart.fn(name => platform_selector._universalValidVariables.contains(name) || validVariables.contains(name), T$.StringTobool())), T$.VoidTovoid()), this[_span$]);
    }
    evaluate(platform) {
      return this[_inner].evaluate(dart.fn(variable => {
        let t$363;
        return (() => {
          let t$361 = null;
          let t$36$350$350 = variable;
          L0: {
            {
              if (true && (variable === platform.runtime.identifier || variable === (t$363 = platform.runtime.parent, t$363 == null ? null : t$363.identifier) || variable === platform.os.identifier || variable === platform.compiler.identifier)) {
                t$361 = true;
                break L0;
              }
            }
            {
              if ("dart-vm" === t$36$350$350) {
                t$361 = platform.runtime.isDartVM;
                break L0;
              }
            }
            {
              if ("browser" === t$36$350$350) {
                t$361 = platform.runtime.isBrowser;
                break L0;
              }
            }
            {
              if ("js" === t$36$350$350) {
                t$361 = platform.runtime.isJS;
                break L0;
              }
            }
            {
              if ("blink" === t$36$350$350) {
                t$361 = platform.runtime.isBlink;
                break L0;
              }
            }
            {
              if ("posix" === t$36$350$350) {
                t$361 = platform.os.isPosix;
                break L0;
              }
            }
            {
              if ("google" === t$36$350$350) {
                t$361 = platform.inGoogle;
                break L0;
              }
            }
            {
              if ("wasm" === t$36$350$350) {
                t$361 = platform.runtime.isWasm;
                break L0;
              }
            }
            {
              {
                t$361 = false;
                break L0;
              }
            }
            dart.throw(new _internal.ReachabilityError.new("None of the patterns in the switch expression the matched input value. See https://github.com/dart-lang/language/issues/3488 for details."));
          }
          return t$361;
        })();
      }, T$.StringTobool()));
    }
    intersection(other) {
      if (dart.equals(other, platform_selector.PlatformSelector.all)) return this;
      return new platform_selector.PlatformSelector.__(this[_inner].intersection(other[_inner]));
    }
    toString() {
      return dart.toString(this[_inner]);
    }
    _equals(other) {
      if (other == null) return false;
      return T$.PlatformSelector()[_is](other) && dart.equals(this[_inner], other[_inner]);
    }
    get hashCode() {
      return dart.hashCode(this[_inner]);
    }
  };
  (platform_selector.PlatformSelector.parse = function(selector, span = null) {
    this[_inner$] = platform_selector.PlatformSelector._wrapFormatException(T$.BooleanSelector(), dart.fn(() => new impl.BooleanSelectorImpl.parse(selector), T$.VoidToBooleanSelector()), span);
    this[_span] = span;
    ;
  }).prototype = platform_selector.PlatformSelector.prototype;
  (platform_selector.PlatformSelector.__ = function(_inner) {
    this[_inner$] = _inner;
    this[_span] = null;
    ;
  }).prototype = platform_selector.PlatformSelector.prototype;
  dart.addTypeTests(platform_selector.PlatformSelector);
  dart.addRtiResources(platform_selector.PlatformSelector, ["test_api__src__backend__platform_selector|PlatformSelector"]);
  dart.addTypeCaches(platform_selector.PlatformSelector);
  dart.setMethodSignature(platform_selector.PlatformSelector, () => dart.global.Object.setPrototypeOf({
    validate: T$.SetOfStringTovoid(),
    evaluate: T$.SuitePlatformTobool(),
    intersection: T$.PlatformSelectorToPlatformSelector()
  }, dart.getMethods(dart.global.Object.getPrototypeOf(platform_selector.PlatformSelector))));
  dart.setStaticMethodSignature(platform_selector.PlatformSelector, () => ['_wrapFormatException']);
  dart.setLibraryUri(platform_selector.PlatformSelector, I[0]);
  dart.setFieldSignature(platform_selector.PlatformSelector, () => dart.global.Object.setPrototypeOf({
    [_inner]: {type: T$.BooleanSelector(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_span$]: {type: T$.SourceSpanN(), isConst: false, isFinal: true, libraryUri: I[2]}
  }, dart.getFields(dart.global.Object.getPrototypeOf(platform_selector.PlatformSelector))));
  dart.setStaticFieldSignature(platform_selector.PlatformSelector, () => ['all']);
  dart.defineExtensionMethods(platform_selector.PlatformSelector, ['toString', '_equals']);
  dart.defineExtensionAccessors(platform_selector.PlatformSelector, ['hashCode']);
  dart.defineLazy(platform_selector.PlatformSelector, {
    /*platform_selector.PlatformSelector.all*/get all() {
      return C[0] || CT.C0;
    }
  }, false);
  dart.defineLazy(platform_selector, {
    /*platform_selector._universalValidVariables*/get _universalValidVariables() {
      return (() => {
        let t$363 = G.LinkedHashSetOfString().from(["posix", "dart-vm", "browser", "js", "blink", "google", "wasm"]);
        let iter = runtime$.Runtime.builtIn;
        for (let runtime of iter)
          t$363.add(runtime.identifier);
        let iter$ = compiler$.Compiler.builtIn;
        for (let compiler of iter$)
          t$363.add(compiler.identifier);
        for (let os of operating_system.OperatingSystem.all)
          t$363.add(os.identifier);
        return t$363;
      })();
    }
  }, false);
  dart.moduleConstCaches.set("packages/test_api/src/backend/platform_selector.dart", C);
  dart_rti._Universe.addRules(dart.typeUniverse, JSON.parse('{"core|FormatException":{"core|Exception":[]},"core|String":{"Comparable.T":"core|String","core|Comparable":["core|String"],"core|Pattern":[]},"core|Comparable":{"Comparable.T":"1"},"source_span__src__span|SourceSpan":{"Comparable.T":"source_span__src__span|SourceSpan","core|Comparable":["source_span__src__span|SourceSpan"]},"core|Set":{"Set.E":"1","Iterable.E":"1","core|Iterable":["1"],"_SetIterable.E":"1","core|_SetIterable":["1"],"EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"]},"core|Iterable":{"Iterable.E":"1"},"core|_SetIterable":{"_SetIterable.E":"1","EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"],"Iterable.E":"1","core|Iterable":["1"]},"_internal|EfficientLengthIterable":{"EfficientLengthIterable.T":"1","Iterable.E":"1","core|Iterable":["1"]},"_internal|HideEfficientLengthIterable":{"HideEfficientLengthIterable.T":"1","Iterable.E":"1","core|Iterable":["1"]}}'));
  dart.trackLibraries("packages/test_api/src/backend/platform_selector.dart", {
    "package:test_api/src/backend/platform_selector.dart": platform_selector
  }, {
  }, '{"version":3,"sourceRoot":"","sources":["platform_selector.dart"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAqCwB;;;;;;IAGJ;;;;;;;;;;;;mCAiB4B,MAAmB;AAC/D,UAAI,AAAK,IAAD,UAAU,MAAO,AAAI,KAAA;AAE7B;AACE,cAAO,AAAI,KAAA;;YACe;AAA1B;AACA,qBAAM,iDAA0B,AAAM,KAAD,UAAU,IAAI;;;;IAEvD;aAK0B;AACxB,UAAI,AAAU,SAAM,wCAAM;AAE1B,yEACI,cAAM,AAAO,sBAAS,QAAC,QACnB,AAAyB,AAAe,oDAAN,IAAI,KACtC,AAAe,cAAD,UAAU,IAAI,0CAChC;IACN;aAG4B;AACxB,YAAA,AAAO,uBAAS,QAAQ;;AAAa;;AAAQ,qCAAQ;AAAhB;;AAKkB,kBAJjD,SACS,AAAS,QAAD,KAAI,AAAS,AAAQ,QAAT,uBACrB,AAAS,QAAD,cAAI,AAAS,AAAQ,QAAT,iCAAS,OAAQ,qBACrC,AAAS,QAAD,KAAI,AAAS,AAAG,QAAJ,kBACpB,AAAS,QAAD,KAAI,AAAS,AAAS,QAAV;wBAC1B;AAD+C;;;;AAEvC,kBAAV;wBAAa,AAAS,AAAQ,QAAT;AAAX;;;;AACA,kBAAV;wBAAa,AAAS,AAAQ,QAAT;AAAX;;;;AACL,kBAAL;wBAAQ,AAAS,AAAQ,QAAT;AAAX;;;;AACG,kBAAR;wBAAW,AAAS,AAAQ,QAAT;AAAX;;;;AACA,kBAAR;wBAAW,AAAS,AAAG,QAAJ;AAAX;;;;AACC,kBAAT;wBAAY,AAAS,QAAD;AAAX;;;;AACF,kBAAP;wBAAU,AAAS,AAAQ,QAAT;AAAX;;;;AACL;wBAAG;AAAH;;;AAd6B;;;;;IAe/B;iBAIqC;AAC7C,UAAU,YAAN,KAAK,EAAqB,yCAAK,MAAO;AAC1C,YAAwB,2CAAE,AAAO,0BAAa,AAAM,KAAD;IACrD;;AAGqB,YAAO,eAAP;IAAiB;YAGd;;AACpB,YAAM,AAAoB,4BAA1B,KAAK,KAA+B,YAAP,cAAU,AAAM,KAAD;IAAO;;AAGnC,YAAO,eAAP;IAAe;;uDApEL,UAAuB;IACxC,gBACH,8EAAqB,cAAsB,mCAAM,QAAQ,gCAAG,IAAI;IAC9D,cAAE,IAAI;;;;IAEY;IAAgB,cAAE;;EAAI;;;;;;;;;;;;;;;;;;;MAjBvC,sCAAG;;;;;MArBZ,0CAAwB;YAAG;oDAC/B,SACA,WACA,WACA,MACA,SACA,UACA;AACA,mBAA4B;iBAAnB;AAAoC,oBAAR,OAAO;AAC5C,oBAA8B;iBAArB;AAAuC,oBAAT,QAAQ;AAC/C,iBAAS,KAAsB;AAAQ,oBAAH,EAAE","file":"../../../../../../../../../packages/test_api/src/backend/platform_selector.dart.lib.js"}');
  // Exports:
  return {
    src__backend__platform_selector: platform_selector
  };
}));

//# sourceMappingURL=platform_selector.dart.lib.js.map
