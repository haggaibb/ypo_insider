// Generated by DDC, the Dart Development Compiler (to JavaScript).
// Version: 3.3.1 (stable) (Wed Mar 6 13:09:19 2024 +0000) on "macos_arm64"
// Module: packages/firebase_core_web/src/interop/utils/utils.dart
// Flags: newRuntimeTypes(true), soundNullSafety(true), enableAsserts(true)
define(['dart_sdk'], (function load__packages__firebase_core_web__src__interop__utils__utils_dart(dart_sdk) {
  'use strict';
  const dart_rti = dart_sdk.dart_rti;
  const core = dart_sdk.core;
  const js_util = dart_sdk.js_util;
  const js_interop = dart_sdk.js_interop;
  const js_interop_unsafe = dart_sdk.js_interop_unsafe;
  const dart = dart_sdk.dart;
  const dartx = dart_sdk.dartx;
  var utils = Object.create(dart.library);
  dart._checkModuleNullSafetyMode(true);
  dart._checkModuleRuntimeTypes(true);
  var T$ = {
    JSObject: () => (T$.JSObject = dart.constFn(dart_rti.findType("_interceptors|JSObject")))(),
    ObjectN: () => (T$.ObjectN = dart.constFn(dart_rti.findType("core|Object?")))(),
    ObjectNToObjectN: () => (T$.ObjectNToObjectN = dart.constFn(dart_rti.findType("core|Object?(core|Object?)")))(),
    JavaScriptFunction: () => (T$.JavaScriptFunction = dart.constFn(dart_rti.findType("_interceptors|JavaScriptFunction")))(),
    ObjectAndStackTraceToJSObject: () => (T$.ObjectAndStackTraceToJSObject = dart.constFn(dart_rti.findType("_interceptors|JSObject(core|Object,core|StackTrace)")))(),
    JavaScriptFunctionAndJavaScriptFunctionToNull: () => (T$.JavaScriptFunctionAndJavaScriptFunctionToNull = dart.constFn(dart_rti.findType("core|Null(_interceptors|JavaScriptFunction,_interceptors|JavaScriptFunction)")))()
  };
  const CT = Object.create({
    _: () => (C, CT)
  });
  var _as = dart.privateName(dart_rti, "_as");
  utils.handleFutureWithMapper = function handleFutureWithMapper(T, S, future, mapper) {
    return js_util.callConstructor(T$.JSObject(), dart.global.Promise, [js_interop['FunctionToJSExportedDartFunction|get#toJS'](dart.fn((resolve, reject) => {
        future.then(T$.ObjectN(), dart.fn(value => {
          js_util.callMethod(T$.ObjectN(), resolve, "call", [resolve, value]);
          return value;
        }, T$.ObjectNToObjectN()), {onError: dart.fn((error, stackTrace) => {
            let errorConstructor = T$.JavaScriptFunction()[_as](dart.nullCheck(js_interop_unsafe['JSObjectUnsafeUtilExtension|getProperty'](T$.ObjectN(), js_interop.globalContext, js_interop['StringToJSString|get#toJS']("Error"))));
            let wrapper = js_interop_unsafe['JSFunctionUnsafeUtilExtension|callAsConstructor'](T$.JSObject(), errorConstructor, js_interop['StringToJSString|get#toJS']("Dart exception thrown from converted Future. Use the properties 'error' to fetch the boxed error and 'stack' to recover the stack trace."));
            js_interop_unsafe['JSObjectUnsafeUtilExtension|[]='](wrapper, "error", js_interop['ObjectToJSBoxedDartObject|get#toJSBox'](error));
            js_interop_unsafe['JSObjectUnsafeUtilExtension|[]='](wrapper, "stack", js_interop['StringToJSString|get#toJS'](dart.toString(stackTrace)));
            js_util.callMethod(T$.ObjectN(), reject, "call", [reject, wrapper]);
            return wrapper;
          }, T$.ObjectAndStackTraceToJSObject())});
      }, T$.JavaScriptFunctionAndJavaScriptFunctionToNull()))]);
  };
  utils.unsubscribeWindowsListener = function unsubscribeWindowsListener(key) {
    {
      let unsubscribe = js_interop_unsafe['JSObjectUnsafeUtilExtension|getProperty'](T$.ObjectN(), js_util.getProperty(T$.JSObject(), dart.global, "window"), js_interop['StringToJSString|get#toJS'](key));
      if (unsubscribe != null) {
        T$.ObjectN()[_as](T$.JavaScriptFunction()[_as](unsubscribe).call());
      }
    }
  };
  utils.setWindowsListener = function setWindowsListener(key, unsubscribe) {
    {
      js_interop_unsafe['JSObjectUnsafeUtilExtension|setProperty'](js_util.getProperty(T$.JSObject(), dart.global, "window"), js_interop['StringToJSString|get#toJS'](key), unsubscribe);
    }
  };
  utils.removeWindowsListener = function removeWindowsListener(key) {
    {
      if (js_interop_unsafe['JSObjectUnsafeUtilExtension|hasProperty'](js_util.getProperty(T$.JSObject(), dart.global, "window"), js_interop['StringToJSString|get#toJS'](key)) === js_interop['BoolToJSBoolean|get#toJS'](true)) {
        js_interop_unsafe['JSObjectUnsafeUtilExtension|delete'](js_util.getProperty(T$.JSObject(), dart.global, "window"), js_interop['StringToJSString|get#toJS'](key));
      }
    }
  };
  dart_rti._Universe.addRules(dart.typeUniverse, JSON.parse('{"_interceptors|JavaScriptFunction":{"_interceptors|LegacyJavaScriptObject":[],"core|Function":[],"_interceptors|JavaScriptObject":[],"_interceptors|Interceptor":[],"_interceptors|JSObject":[]},"_interceptors|LegacyJavaScriptObject":{"_interceptors|JavaScriptObject":[],"_interceptors|Interceptor":[],"_interceptors|JSObject":[]},"_interceptors|JavaScriptObject":{"_interceptors|Interceptor":[],"_interceptors|JSObject":[]}}'));
  dart.trackLibraries("packages/firebase_core_web/src/interop/utils/utils.dart", {
    "package:firebase_core_web/src/interop/utils/utils.dart": utils
  }, {
  }, '{"version":3,"sourceRoot":"","sources":["utils.dart"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;uEAmBiB,QACH;AAGZ,UAAO,8DAiBL,wDAjBe,SAAY,SAAoB;AACxC,QAAP,MAAM,oBAAM,QAAQ;AACV,2CAAR,OAAO,WAAgB,OAAO,EAAE,KAAK;AACrC,gBAAO,MAAK;6CACF,SAAQ,OAAkB;AAC9B,mCACuC,6BAAF,eAAzB,2EAAd,0BAAkC,wCAAR;AACxB,0BAA2B,oFAAjB,gBAAgB,EAIvB;AACF,iEAAP,OAAO,EAAC,SAAiB,oDAAN,KAAK;AACjB,iEAAP,OAAO,EAAC,SAAiC,wCAAX,cAAX,UAAU;AACtB,6CAAP,MAAM,WAAgB,MAAM,EAAE,OAAO;AACrC,kBAAO,QAAO;;;EAGpB;yEAKuC;AACrC;AACQ,wBAAyB,2EAAP,2DAAuB,wCAAJ,GAAG;AAC9C,UAAI,WAAW;AACe,0BAAf,6BAAZ,WAAW;;;EAGlB;yDAE+B,KAAgB;AAC7C;AACa,mEAAP,2DAAuB,wCAAJ,GAAG,GAAO,WAAW;;EAEhD;+DAEkC;AAChC;AACE,UAAe,AAAsB,6DAA7B,2DAAuB,wCAAJ,GAAG,OAAe,uCAAL;AAC3B,gEAAP,2DAAkB,wCAAJ,GAAG;;;EAG3B","file":"../../../../../../../../../../packages/firebase_core_web/src/interop/utils/utils.dart.lib.js"}');
  // Exports:
  return {
    src__interop__utils__utils: utils
  };
}));

//# sourceMappingURL=utils.dart.lib.js.map
