// Generated by DDC, the Dart Development Compiler (to JavaScript).
// Version: 3.3.1 (stable) (Wed Mar 6 13:09:19 2024 +0000) on "macos_arm64"
// Module: packages/test_api/src/backend/configuration/timeout.dart
// Flags: newRuntimeTypes(true), soundNullSafety(true), enableAsserts(true)
define(['dart_sdk', 'packages/string_scanner/src/utils.dart'], (function load__packages__test_api__src__backend__configuration__timeout_dart(dart_sdk, packages__string_scanner__src__utils$46dart) {
  'use strict';
  const dart_rti = dart_sdk.dart_rti;
  const core = dart_sdk.core;
  const _internal = dart_sdk._internal;
  const dart = dart_sdk.dart;
  const dartx = dart_sdk.dartx;
  const string_scanner = packages__string_scanner__src__utils$46dart.src__string_scanner;
  var timeout$ = Object.create(dart.library);
  var $round = dartx.round;
  var $hashCode = dartx.hashCode;
  var $toString = dartx.toString;
  dart._checkModuleNullSafetyMode(true);
  dart._checkModuleRuntimeTypes(true);
  var T = {
    Timeout: () => (T.Timeout = dart.constFn(dart_rti.findType("test_api__src__backend__configuration__timeout|Timeout")))(),
    StringToTimeout: () => (T.StringToTimeout = dart.constFn(dart_rti.findType("test_api__src__backend__configuration__timeout|Timeout(core|String)")))(),
    doubleAndStringTodouble: () => (T.doubleAndStringTodouble = dart.constFn(dart_rti.findType("core|double(core|double,core|String)")))(),
    TimeoutToTimeout: () => (T.TimeoutToTimeout = dart.constFn(dart_rti.findType("test_api__src__backend__configuration__timeout|Timeout(test_api__src__backend__configuration__timeout|Timeout)")))(),
    DurationToDurationN: () => (T.DurationToDurationN = dart.constFn(dart_rti.findType("core|Duration?(core|Duration)")))(),
    DurationN: () => (T.DurationN = dart.constFn(dart_rti.findType("core|Duration?")))(),
    numN: () => (T.numN = dart.constFn(dart_rti.findType("core|num?")))()
  };
  const CT = Object.create({
    _: () => (C, CT)
  });
  dart.defineLazy(CT, {
    get C0() {
      return C[0] = dart.const(Object.setPrototypeOf({
        [scaleFactor$]: null,
        [duration$]: null
      }, timeout$.Timeout.prototype));
    }
  }, false);
  var C = [void 0];
  var I = [
    "package:test_api/src/backend/configuration/timeout.dart",
    "dart:core"
  ];
  var duration$ = dart.privateName(timeout$, "Timeout.duration");
  var scaleFactor$ = dart.privateName(timeout$, "Timeout.scaleFactor");
  var _is = dart.privateName(dart_rti, "_is");
  timeout$.Timeout = class Timeout extends core.Object {
    get duration() {
      return this[duration$];
    }
    set duration(value) {
      super.duration = value;
    }
    get scaleFactor() {
      return this[scaleFactor$];
    }
    set scaleFactor(value) {
      super.scaleFactor = value;
    }
    static ['_#new#tearOff'](duration) {
      return new timeout$.Timeout.new(duration);
    }
    static ['_#factor#tearOff'](scaleFactor) {
      return new timeout$.Timeout.factor(scaleFactor);
    }
    static ['_#_none#tearOff']() {
      return new timeout$.Timeout._none();
    }
    static parse(timeout) {
      let scanner = new string_scanner.StringScanner.new(timeout);
      if (scanner.scan("none")) {
        scanner.expectDone();
        return timeout$.Timeout.none;
      }
      scanner.expect(timeout$._untilUnit, {name: "number"});
      let number = core.double.parse(dart.nullCheck(dart.nullCheck(scanner.lastMatch)._get(0)));
      if (scanner.scan("x") || scanner.scan("X")) {
        scanner.expectDone();
        return new timeout$.Timeout.factor(number);
      }
      let microseconds = 0.0;
      while (true) {
        scanner.expect(timeout$._unit, {name: "unit"});
        microseconds = microseconds + timeout$.Timeout._microsecondsFor(number, dart.nullCheck(dart.nullCheck(scanner.lastMatch)._get(0)));
        scanner.scan(timeout$._whitespace);
        if (!scanner.scan(timeout$._untilUnit)) break;
        number = core.double.parse(dart.nullCheck(dart.nullCheck(scanner.lastMatch)._get(0)));
      }
      scanner.expectDone();
      return new timeout$.Timeout.new(new core.Duration.new({microseconds: microseconds[$round]()}));
    }
    static ['_#parse#tearOff'](timeout) {
      return timeout$.Timeout.parse(timeout);
    }
    static _microsecondsFor(number, unit) {
      return (() => {
        let t$360 = null;
        let t$36$350$350 = unit;
        L0: {
          {
            if ("d" === t$36$350$350) {
              t$360 = number * 24 * 60 * 60 * 1000000;
              break L0;
            }
          }
          {
            if ("h" === t$36$350$350) {
              t$360 = number * 60 * 60 * 1000000;
              break L0;
            }
          }
          {
            if ("m" === t$36$350$350) {
              t$360 = number * 60 * 1000000;
              break L0;
            }
          }
          {
            if ("s" === t$36$350$350) {
              t$360 = number * 1000000;
              break L0;
            }
          }
          {
            if ("ms" === t$36$350$350) {
              t$360 = number * 1000;
              break L0;
            }
          }
          {
            if ("us" === t$36$350$350) {
              t$360 = number;
              break L0;
            }
          }
          {
            {
              t$360 = dart.throw(new core.ArgumentError.new("Unknown unit " + unit + "."));
              break L0;
            }
          }
          dart.throw(new _internal.ReachabilityError.new("None of the patterns in the switch expression the matched input value. See https://github.com/dart-lang/language/issues/3488 for details."));
        }
        return t$360;
      })();
    }
    merge(other) {
      if (dart.equals(this, timeout$.Timeout.none) || dart.equals(other, timeout$.Timeout.none)) return timeout$.Timeout.none;
      if (other.duration != null) return new timeout$.Timeout.new(other.duration);
      if (this.duration != null) return new timeout$.Timeout.new(dart.nullCheck(this.duration)['*'](dart.nullCheck(other.scaleFactor)));
      return new timeout$.Timeout.factor(dart.nullCheck(this.scaleFactor) * dart.nullCheck(other.scaleFactor));
    }
    apply(base) {
      let t$362;
      if (dart.equals(this, timeout$.Timeout.none)) return null;
      t$362 = this.duration;
      return t$362 == null ? base['*'](dart.nullCheck(this.scaleFactor)) : t$362;
    }
    get hashCode() {
      return (dart.hashCode(this.duration) ^ 5 * dart.hashCode(this.scaleFactor)) >>> 0;
    }
    _equals(other) {
      if (other == null) return false;
      return T.Timeout()[_is](other) && dart.equals(other.duration, this.duration) && other.scaleFactor == this.scaleFactor;
    }
    toString() {
      if (this.duration != null) return dart.toString(this.duration);
      if (this.scaleFactor != null) return dart.str(this.scaleFactor) + "x";
      return "none";
    }
  };
  (timeout$.Timeout.new = function(duration) {
    this[duration$] = duration;
    this[scaleFactor$] = null;
    ;
  }).prototype = timeout$.Timeout.prototype;
  (timeout$.Timeout.factor = function(scaleFactor) {
    this[scaleFactor$] = scaleFactor;
    this[duration$] = null;
    ;
  }).prototype = timeout$.Timeout.prototype;
  (timeout$.Timeout._none = function() {
    this[scaleFactor$] = null;
    this[duration$] = null;
    ;
  }).prototype = timeout$.Timeout.prototype;
  dart.addTypeTests(timeout$.Timeout);
  dart.addRtiResources(timeout$.Timeout, ["test_api__src__backend__configuration__timeout|Timeout"]);
  dart.addTypeCaches(timeout$.Timeout);
  dart.setMethodSignature(timeout$.Timeout, () => dart.global.Object.setPrototypeOf({
    merge: T.TimeoutToTimeout(),
    apply: T.DurationToDurationN()
  }, dart.getMethods(dart.global.Object.getPrototypeOf(timeout$.Timeout))));
  dart.setStaticMethodSignature(timeout$.Timeout, () => ['parse', '_microsecondsFor']);
  dart.setLibraryUri(timeout$.Timeout, I[0]);
  dart.setFieldSignature(timeout$.Timeout, () => dart.global.Object.setPrototypeOf({
    duration: {type: T.DurationN(), isConst: false, isFinal: true, libraryUri: I[1]},
    scaleFactor: {type: T.numN(), isConst: false, isFinal: true, libraryUri: I[1]}
  }, dart.getFields(dart.global.Object.getPrototypeOf(timeout$.Timeout))));
  dart.setStaticFieldSignature(timeout$.Timeout, () => ['none']);
  dart.defineExtensionMethods(timeout$.Timeout, ['_equals', 'toString']);
  dart.defineExtensionAccessors(timeout$.Timeout, ['hashCode']);
  dart.defineLazy(timeout$.Timeout, {
    /*timeout$.Timeout.none*/get none() {
      return C[0] || CT.C0;
    }
  }, false);
  dart.defineLazy(timeout$, {
    /*timeout$._untilUnit*/get _untilUnit() {
      return core.RegExp.new("[^a-df-z\\s]+", {caseSensitive: false});
    },
    /*timeout$._unit*/get _unit() {
      return core.RegExp.new("([um]s|[dhms])", {caseSensitive: false});
    },
    /*timeout$._whitespace*/get _whitespace() {
      return core.RegExp.new("\\s+");
    }
  }, false);
  dart.moduleConstCaches.set("packages/test_api/src/backend/configuration/timeout.dart", C);
  dart_rti._Universe.addRules(dart.typeUniverse, JSON.parse('{"core|String":{"Comparable.T":"core|String","core|Comparable":["core|String"],"core|Pattern":[]},"core|Comparable":{"Comparable.T":"1"},"core|double":{"core|num":[],"Comparable.T":"core|num","core|Comparable":["core|num"]},"core|num":{"Comparable.T":"core|num","core|Comparable":["core|num"]},"core|Duration":{"Comparable.T":"core|Duration","core|Comparable":["core|Duration"]}}'));
  dart.trackLibraries("packages/test_api/src/backend/configuration/timeout.dart", {
    "package:test_api/src/backend/configuration/timeout.dart": timeout$
  }, {
  }, '{"version":3,"sourceRoot":"","sources":["timeout.dart"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAkCkB;;;;;;IAUL;;;;;;;;;;;;;;;iBA0BkB;AACvB,oBAAU,qCAAc,OAAO;AAGnC,UAAI,AAAQ,OAAD,MAAM;AACP,QAAR,OAAO;AACP,cAAe;;AAIT,MAAR,OAAO,QAAQ,4BAAkB;AAC7B,mBAAgB,kBAA2B,eAAJ,AAAC,eAAlB,AAAQ,OAAD,iBAAY;AAG7C,UAAI,AAAQ,OAAD,MAAM,QAAQ,AAAQ,OAAD,MAAM;AAC5B,QAAR,OAAO;AACP,cAAe,6BAAO,MAAM;;AAK1B,yBAAe;AACnB,aAAO;AACG,QAAR,OAAO,QAAQ,uBAAa;AAC5B,uBAAA,AAAa,YAAD,GAAI,kCAAiB,MAAM,EAAuB,eAAJ,AAAC,eAAlB,AAAQ,OAAD,iBAAY;AAEpD,QAAR,OAAO,MAAM;AAGb,aAAK,AAAQ,OAAD,MAAM,sBAAa;AAC/B,iBAAgB,kBAA2B,eAAJ,AAAC,eAAlB,AAAQ,OAAD,iBAAY;;AAGnC,MAAR,OAAO;AACP,YAAO,0BAAQ,qCAAuB,AAAa,YAAD;IACpD;;;;4BAGsC,QAAe;AAAS;;AAAQ,+BAAI;AAAZ;;AACpD,gBAAJ;sBAAO,AAAO,AAAK,AAAK,AAAK,MAAhB,GAAG,KAAK,KAAK,KAAK;AAA3B;;;;AACA,gBAAJ;sBAAO,AAAO,AAAK,AAAK,MAAX,GAAG,KAAK,KAAK;AAAtB;;;;AACA,gBAAJ;sBAAO,AAAO,AAAK,MAAN,GAAG,KAAK;AAAjB;;;;AACA,gBAAJ;sBAAO,AAAO,MAAD,GAAG;AAAZ;;;;AACC,gBAAL;sBAAQ,AAAO,MAAD,GAAG;AAAZ;;;;AACA,gBAAL;sBAAQ,MAAM;AAAT;;;;AACH;sBAAG,WAAM,2BAAc,AAAqB,kBAAN,IAAI;AAA1C;;;AAPsD;;;;IAQzD;UAQiB;AACpB,UAAS,YAAL,MAAQ,0BAAc,YAAN,KAAK,EAAI,wBAAM,MAAO;AAC1C,UAAI,AAAM,KAAD,mBAAmB,MAAO,0BAAQ,AAAM,KAAD;AAChD,UAAI,uBAAkB,MAAO,0BAAgB,AAAE,eAAV,oBAA6B,eAAjB,AAAM,KAAD;AACtD,YAAe,6BAAkB,AAAE,eAAb,oBAAgC,eAAjB,AAAM,KAAD;IAC5C;UAKyB;;AACvB,UAAS,YAAL,MAAQ,wBAAM,MAAO;AACzB,cAAO;6BAAY,AAAK,IAAD,MAAc,eAAX;IAC5B;;AAGoB,YAAkB,EAAT,cAAT,iBAAoB,AAAE,IAAc,cAAZ;IAAoB;YAGxC;;AACpB,YAAM,AACqB,kBAD3B,KAAK,KACU,YAAf,AAAM,KAAD,WAAa,kBAClB,AAAM,AAAY,KAAb,gBAAgB;IAAW;;AAIlC,UAAI,uBAAkB,MAAgB,eAAT;AAC7B,UAAI,0BAAqB,MAAwB,UAAd,oBAAY;AAC/C,YAAO;IACT;;;IA1GmB;IAAwB,qBAAE;;EAAI;;IAGvB;IAAwB,kBAAE;;EAAI;;IAGtC,qBAAE;IACL,kBAAE;;EAAI;;;;;;;;;;;;;;;;;;MA1BR,qBAAI;;;;;MAhBb,mBAAU;YAAG,iBAAO,iCAAgC;;MAGpD,cAAK;YAAG,iBAAO,kCAAkC;;MAGjD,oBAAW;YAAG,iBAAO","file":"../../../../../../../../../../packages/test_api/src/backend/configuration/timeout.dart.lib.js"}');
  // Exports:
  return {
    src__backend__configuration__timeout: timeout$
  };
}));

//# sourceMappingURL=timeout.dart.lib.js.map
