// Generated by DDC, the Dart Development Compiler (to JavaScript).
// Version: 3.3.1 (stable) (Wed Mar 6 13:09:19 2024 +0000) on "macos_arm64"
// Module: packages/test_api/src/backend/declarer.dart
// Flags: newRuntimeTypes(true), soundNullSafety(true), enableAsserts(true)
define(['dart_sdk', 'packages/test_api/src/backend/metadata.dart', 'packages/collection/src/wrappers.dart', 'packages/test_api/src/backend/configuration/timeout.dart', 'packages/stack_trace/src/stack_zone_specification.dart', 'packages/test_api/src/backend/suite.dart', 'packages/test_api/src/backend/live_test_controller.dart', 'packages/test_api/src/backend/closed_exception.dart', 'packages/test_api/src/backend/util/pretty_print.dart', 'packages/test_api/src/backend/state.dart', 'packages/test_api/src/backend/message.dart'], (function load__packages__test_api__src__backend__declarer_dart(dart_sdk, packages__test_api__src__backend__metadata$46dart, packages__collection__src__wrappers$46dart, packages__test_api__src__backend__configuration__timeout$46dart, packages__stack_trace__src__stack_zone_specification$46dart, packages__test_api__src__backend__suite$46dart, packages__test_api__src__backend__live_test_controller$46dart, packages__test_api__src__backend__closed_exception$46dart, packages__test_api__src__backend__util__pretty_print$46dart, packages__test_api__src__backend__state$46dart, packages__test_api__src__backend__message$46dart) {
  'use strict';
  const dart_rti = dart_sdk.dart_rti;
  const core = dart_sdk.core;
  const collection = dart_sdk.collection;
  const _interceptors = dart_sdk._interceptors;
  const async = dart_sdk.async;
  const _internal = dart_sdk._internal;
  const _js_helper = dart_sdk._js_helper;
  const dart = dart_sdk.dart;
  const dartx = dart_sdk.dartx;
  const metadata$ = packages__test_api__src__backend__metadata$46dart.src__backend__metadata;
  const empty_unmodifiable_set = packages__collection__src__wrappers$46dart.src__empty_unmodifiable_set;
  const timeout = packages__test_api__src__backend__configuration__timeout$46dart.src__backend__configuration__timeout;
  const trace$ = packages__stack_trace__src__stack_zone_specification$46dart.src__trace;
  const chain = packages__stack_trace__src__stack_zone_specification$46dart.src__chain;
  const group = packages__test_api__src__backend__suite$46dart.src__backend__group;
  const test = packages__test_api__src__backend__suite$46dart.src__backend__test;
  const live_test_controller = packages__test_api__src__backend__live_test_controller$46dart.src__backend__live_test_controller;
  const closed_exception = packages__test_api__src__backend__closed_exception$46dart.src__backend__closed_exception;
  const pretty_print = packages__test_api__src__backend__util__pretty_print$46dart.src__backend__util__pretty_print;
  const state = packages__test_api__src__backend__state$46dart.src__backend__state;
  const message$ = packages__test_api__src__backend__message$46dart.src__backend__message;
  var declarer$ = Object.create(dart.library);
  var invoker$ = Object.create(dart.library);
  var $isNotEmpty = dartx.isNotEmpty;
  var $add = dartx.add;
  var $reversed = dartx.reversed;
  var $last = dartx.last;
  var $startsWith = dartx.startsWith;
  var $contains = dartx.contains;
  var $map = dartx.map;
  var $toList = dartx.toList;
  var $isEmpty = dartx.isEmpty;
  var $removeLast = dartx.removeLast;
  var $remove = dartx.remove;
  var $trim = dartx.trim;
  var $join = dartx.join;
  var $clear = dartx.clear;
  dart._checkModuleNullSafetyMode(true);
  dart._checkModuleRuntimeTypes(true);
  var T$ = {
    String: () => (T$.String = dart.constFn(dart_rti.findType("core|String")))(),
    EmptyUnmodifiableSetOfString: () => (T$.EmptyUnmodifiableSetOfString = dart.constFn(dart_rti.findType("collection__src__empty_unmodifiable_set|EmptyUnmodifiableSet<core|String>")))(),
    VoidTodynamic: () => (T$.VoidTodynamic = dart.constFn(dart_rti.findType("@()")))(),
    GroupEntry: () => (T$.GroupEntry = dart.constFn(dart_rti.findType("test_api__src__backend__group_entry|GroupEntry")))(),
    DeclarerN: () => (T$.DeclarerN = dart.constFn(dart_rti.findType("test_api__src__backend__declarer|Declarer?")))(),
    ObjectN: () => (T$.ObjectN = dart.constFn(dart_rti.findType("core|Object?")))(),
    Declarer: () => (T$.Declarer = dart.constFn(dart_rti.findType("test_api__src__backend__declarer|Declarer")))(),
    FutureOfNull: () => (T$.FutureOfNull = dart.constFn(dart_rti.findType("async|Future<core|Null>")))(),
    Future: () => (T$.Future = dart.constFn(dart_rti.findType("async|Future<@>")))(),
    Null: () => (T$.Null = dart.constFn(dart_rti.findType("core|Null")))(),
    VoidToFutureOfNull: () => (T$.VoidToFutureOfNull = dart.constFn(dart_rti.findType("async|Future<core|Null>()")))(),
    VoidToNull: () => (T$.VoidToNull = dart.constFn(dart_rti.findType("core|Null()")))(),
    GroupEntryToGroupEntry: () => (T$.GroupEntryToGroupEntry = dart.constFn(dart_rti.findType("test_api__src__backend__group_entry|GroupEntry(test_api__src__backend__group_entry|GroupEntry)")))(),
    Function: () => (T$.Function = dart.constFn(dart_rti.findType("core|Function")))(),
    FunctionTodynamic: () => (T$.FunctionTodynamic = dart.constFn(dart_rti.findType("@(core|Function)")))(),
    dynamic: () => (T$.dynamic = dart.constFn(dart_rti.findType("@")))(),
    FutureOfvoid: () => (T$.FutureOfvoid = dart.constFn(dart_rti.findType("async|Future<~>")))(),
    VoidToFutureOfvoid: () => (T$.VoidToFutureOfvoid = dart.constFn(dart_rti.findType("async|Future<~>()")))(),
    bool: () => (T$.bool = dart.constFn(dart_rti.findType("core|bool")))(),
    FnToT: () => (T$.FnToT = dart.constFn(dart_rti.findType("0^(0^())<core|Object?>")))(),
    StringAndFn__Tovoid: () => (T$.StringAndFn__Tovoid = dart.constFn(dart_rti.findType("~(core|String,@(){onPlatform:core|Map<core|String,@>?,retry:core|int?,skip:core|Object?,solo:core|bool,tags:core|Object?,testOn:core|String?,timeout:test_api__src__backend__configuration__timeout|Timeout?})")))(),
    StringAndFn__Tovoid$1: () => (T$.StringAndFn__Tovoid$1 = dart.constFn(dart_rti.findType("~(core|String,~(){onPlatform:core|Map<core|String,@>?,retry:core|int?,skip:core|Object?,solo:core|bool,tags:core|Object?,testOn:core|String?,timeout:test_api__src__backend__configuration__timeout|Timeout?})")))(),
    StringToString: () => (T$.StringToString = dart.constFn(dart_rti.findType("core|String(core|String)")))(),
    FnTovoid: () => (T$.FnTovoid = dart.constFn(dart_rti.findType("~(@())")))(),
    VoidToGroup: () => (T$.VoidToGroup = dart.constFn(dart_rti.findType("test_api__src__backend__group|Group()")))(),
    StringTovoid: () => (T$.StringTovoid = dart.constFn(dart_rti.findType("~(core|String)")))(),
    VoidToFuture: () => (T$.VoidToFuture = dart.constFn(dart_rti.findType("async|Future<@>()")))(),
    TestN: () => (T$.TestN = dart.constFn(dart_rti.findType("test_api__src__backend__test|Test?")))(),
    GroupEntryTovoid: () => (T$.GroupEntryTovoid = dart.constFn(dart_rti.findType("~(test_api__src__backend__group_entry|GroupEntry)")))(),
    StringN: () => (T$.StringN = dart.constFn(dart_rti.findType("core|String?")))(),
    Metadata: () => (T$.Metadata = dart.constFn(dart_rti.findType("test_api__src__backend__metadata|Metadata")))(),
    SetOfString: () => (T$.SetOfString = dart.constFn(dart_rti.findType("core|Set<core|String>")))(),
    TraceN: () => (T$.TraceN = dart.constFn(dart_rti.findType("stack_trace__src__trace|Trace?")))(),
    ListOfVoidTodynamic: () => (T$.ListOfVoidTodynamic = dart.constFn(dart_rti.findType("core|List<@()>")))(),
    Timeout: () => (T$.Timeout = dart.constFn(dart_rti.findType("test_api__src__backend__configuration__timeout|Timeout")))(),
    ListOfGroupEntry: () => (T$.ListOfGroupEntry = dart.constFn(dart_rti.findType("core|List<test_api__src__backend__group_entry|GroupEntry>")))(),
    SetNOfString: () => (T$.SetNOfString = dart.constFn(dart_rti.findType("core|Set<core|String>?")))(),
    Suite__ToLiveTest: () => (T$.Suite__ToLiveTest = dart.constFn(dart_rti.findType("test_api__src__backend__live_test|LiveTest(test_api__src__backend__suite|Suite{groups:core|Iterable<test_api__src__backend__group|Group>?})")))(),
    SuitePlatformToTestN: () => (T$.SuitePlatformToTestN = dart.constFn(dart_rti.findType("test_api__src__backend__test|Test?(test_api__src__backend__suite_platform|SuitePlatform)")))(),
    void: () => (T$.void = dart.constFn(dart_rti.findType("~")))(),
    Zone: () => (T$.Zone = dart.constFn(dart_rti.findType("async|Zone")))(),
    voidTovoid: () => (T$.voidTovoid = dart.constFn(dart_rti.findType("~([~])")))(),
    LocalTest: () => (T$.LocalTest = dart.constFn(dart_rti.findType("test_api__src__backend__invoker|LocalTest")))(),
    _AsyncCounterN: () => (T$._AsyncCounterN = dart.constFn(dart_rti.findType("test_api__src__backend__invoker|_AsyncCounter?")))(),
    InvokerN: () => (T$.InvokerN = dart.constFn(dart_rti.findType("test_api__src__backend__invoker|Invoker?")))(),
    VoidTovoid: () => (T$.VoidTovoid = dart.constFn(dart_rti.findType("~()")))(),
    ZoneAndZoneDelegateAndZone__Tovoid: () => (T$.ZoneAndZoneDelegateAndZone__Tovoid = dart.constFn(dart_rti.findType("~(async|Zone,async|ZoneDelegate,async|Zone,core|Object,core|StackTrace)")))(),
    dynamicTovoid: () => (T$.dynamicTovoid = dart.constFn(dart_rti.findType("~([@])")))(),
    voidTovoid$1: () => (T$.voidTovoid$1 = dart.constFn(dart_rti.findType("~(~)")))(),
    VoidToString: () => (T$.VoidToString = dart.constFn(dart_rti.findType("core|String()")))(),
    TestFailure: () => (T$.TestFailure = dart.constFn(dart_rti.findType("test_api__src__backend__test_failure|TestFailure")))(),
    ZoneAndZoneDelegateAndZone__Tovoid$1: () => (T$.ZoneAndZoneDelegateAndZone__Tovoid$1 = dart.constFn(dart_rti.findType("~(async|Zone,async|ZoneDelegate,async|Zone,core|String)")))(),
    LiveTest: () => (T$.LiveTest = dart.constFn(dart_rti.findType("test_api__src__backend__live_test|LiveTest")))(),
    LiveTestController: () => (T$.LiveTestController = dart.constFn(dart_rti.findType("test_api__src__backend__live_test_controller|LiveTestController")))(),
    _AsyncCounter: () => (T$._AsyncCounter = dart.constFn(dart_rti.findType("test_api__src__backend__invoker|_AsyncCounter")))(),
    FnToTN: () => (T$.FnToTN = dart.constFn(dart_rti.findType("0^?(0^())<core|Object?>")))(),
    ListOfVoidTovoidToFutureOfvoid: () => (T$.ListOfVoidTovoidToFutureOfvoid = dart.constFn(dart_rti.findType("async|Future<~>(core|List<~()>)")))(),
    FnToFutureOfvoid: () => (T$.FnToFutureOfvoid = dart.constFn(dart_rti.findType("async|Future<~>(~())")))(),
    StringNTovoid: () => (T$.StringNTovoid = dart.constFn(dart_rti.findType("~([core|String?])")))(),
    ZoneAndObjectAndStackTraceNTovoid: () => (T$.ZoneAndObjectAndStackTraceNTovoid = dart.constFn(dart_rti.findType("~(async|Zone,core|Object[core|StackTrace?])")))(),
    FnTovoid$1: () => (T$.FnTovoid$1 = dart.constFn(dart_rti.findType("~(~())")))(),
    LiveTestControllerN: () => (T$.LiveTestControllerN = dart.constFn(dart_rti.findType("test_api__src__backend__live_test_controller|LiveTestController?")))(),
    Object: () => (T$.Object = dart.constFn(dart_rti.findType("core|Object")))(),
    CompleterOfvoid: () => (T$.CompleterOfvoid = dart.constFn(dart_rti.findType("async|Completer<~>")))(),
    ListOfZone: () => (T$.ListOfZone = dart.constFn(dart_rti.findType("core|List<async|Zone>")))(),
    int: () => (T$.int = dart.constFn(dart_rti.findType("core|int")))(),
    TimerN: () => (T$.TimerN = dart.constFn(dart_rti.findType("async|Timer?")))(),
    ListOfString: () => (T$.ListOfString = dart.constFn(dart_rti.findType("core|List<core|String>")))()
  };
  var G = {
    EmptyUnmodifiableSetOfString: () => (G.EmptyUnmodifiableSetOfString = dart.constFn(empty_unmodifiable_set.EmptyUnmodifiableSet$(T$.String())))(),
    LinkedHashSetOfString: () => (G.LinkedHashSetOfString = dart.constFn(collection.LinkedHashSet$(T$.String())))(),
    JSArrayOfVoidTodynamic: () => (G.JSArrayOfVoidTodynamic = dart.constFn(_interceptors.JSArray$(T$.VoidTodynamic())))(),
    JSArrayOfGroupEntry: () => (G.JSArrayOfGroupEntry = dart.constFn(_interceptors.JSArray$(T$.GroupEntry())))(),
    LinkedMapOfObjectN$ObjectN: () => (G.LinkedMapOfObjectN$ObjectN = dart.constFn(_js_helper.LinkedMap$(T$.ObjectN(), T$.ObjectN())))(),
    JSArrayOfDeclarer: () => (G.JSArrayOfDeclarer = dart.constFn(_interceptors.JSArray$(T$.Declarer())))(),
    CompleterOfvoid: () => (G.CompleterOfvoid = dart.constFn(async.Completer$(T$.void())))(),
    JSArrayOfZone: () => (G.JSArrayOfZone = dart.constFn(_interceptors.JSArray$(T$.Zone())))(),
    JSArrayOfString: () => (G.JSArrayOfString = dart.constFn(_interceptors.JSArray$(T$.String())))(),
    FutureOfvoid: () => (G.FutureOfvoid = dart.constFn(async.Future$(T$.void())))(),
    FutureOfNull: () => (G.FutureOfNull = dart.constFn(async.Future$(T$.Null())))()
  };
  const CT = Object.create({
    _: () => (C, CT)
  });
  dart.defineLazy(CT, {
    get C0() {
      return C[0] = dart.const(Object.setPrototypeOf({
        $ti: T$.EmptyUnmodifiableSetOfString()
      }, G.EmptyUnmodifiableSetOfString().prototype));
    },
    get C1() {
      return C[1] = dart.const(new _internal.Symbol.new('test.declarer'));
    },
    get C2() {
      return C[2] = dart.const(new _internal.Symbol.new('test.invoker'));
    },
    get C3() {
      return C[3] = dart.const(Object.setPrototypeOf({
        [Duration__duration]: 30000000
      }, core.Duration.prototype));
    },
    get C5() {
      return C[5] = dart.const(Object.setPrototypeOf({
        [_Enum__name]: "error",
        [_Enum_index]: 3
      }, state.Result.prototype));
    },
    get C6() {
      return C[6] = dart.const(Object.setPrototypeOf({
        [_Enum__name]: "complete",
        [_Enum_index]: 2
      }, state.Status.prototype));
    },
    get C4() {
      return C[4] = dart.const(Object.setPrototypeOf({
        [State_result]: C[5] || CT.C5,
        [State_status]: C[6] || CT.C6
      }, state.State.prototype));
    },
    get C8() {
      return C[8] = dart.const(Object.setPrototypeOf({
        [_Enum__name]: "skipped",
        [_Enum_index]: 1
      }, state.Result.prototype));
    },
    get C9() {
      return C[9] = dart.const(Object.setPrototypeOf({
        [_Enum__name]: "pending",
        [_Enum_index]: 0
      }, state.Status.prototype));
    },
    get C7() {
      return C[7] = dart.const(Object.setPrototypeOf({
        [State_result]: C[8] || CT.C8,
        [State_status]: C[9] || CT.C9
      }, state.State.prototype));
    },
    get C10() {
      return C[10] = dart.const(new _internal.Symbol.new('runCount'));
    },
    get C12() {
      return C[12] = dart.const(Object.setPrototypeOf({
        [_Enum__name]: "failure",
        [_Enum_index]: 2
      }, state.Result.prototype));
    },
    get C11() {
      return C[11] = dart.const(Object.setPrototypeOf({
        [State_result]: C[12] || CT.C12,
        [State_status]: C[6] || CT.C6
      }, state.State.prototype));
    },
    get C14() {
      return C[14] = dart.const(Object.setPrototypeOf({
        [_Enum__name]: "success",
        [_Enum_index]: 0
      }, state.Result.prototype));
    },
    get C15() {
      return C[15] = dart.const(Object.setPrototypeOf({
        [_Enum__name]: "running",
        [_Enum_index]: 1
      }, state.Status.prototype));
    },
    get C13() {
      return C[13] = dart.const(Object.setPrototypeOf({
        [State_result]: C[14] || CT.C14,
        [State_status]: C[15] || CT.C15
      }, state.State.prototype));
    }
  }, false);
  var C = Array(16).fill(void 0);
  var I = [
    "package:test_api/src/backend/declarer.dart",
    "dart:core",
    "package:test_api/src/backend/metadata.dart",
    "package:stack_trace/src/trace.dart",
    "package:test_api/src/backend/configuration/timeout.dart",
    "package:test_api/src/backend/invoker.dart",
    "package:test_api/src/backend/live_test_controller.dart",
    "dart:async"
  ];
  var _setUps = dart.privateName(declarer$, "_setUps");
  var _tearDowns = dart.privateName(declarer$, "_tearDowns");
  var _setUpAlls = dart.privateName(declarer$, "_setUpAlls");
  var _timeout = dart.privateName(declarer$, "_timeout");
  var _setUpAllTrace = dart.privateName(declarer$, "_setUpAllTrace");
  var _tearDownAlls = dart.privateName(declarer$, "_tearDownAlls");
  var _tearDownAllTrace = dart.privateName(declarer$, "_tearDownAllTrace");
  var _entries = dart.privateName(declarer$, "_entries");
  var _built = dart.privateName(declarer$, "_built");
  var _soloEntries = dart.privateName(declarer$, "_soloEntries");
  var _parent$ = dart.privateName(declarer$, "_parent");
  var _name$ = dart.privateName(declarer$, "_name");
  var _metadata$ = dart.privateName(declarer$, "_metadata");
  var _platformVariables$ = dart.privateName(declarer$, "_platformVariables");
  var _collectTraces$ = dart.privateName(declarer$, "_collectTraces");
  var _trace$ = dart.privateName(declarer$, "_trace");
  var _noRetry$ = dart.privateName(declarer$, "_noRetry");
  var _fullTestName$ = dart.privateName(declarer$, "_fullTestName");
  var _seenNames$ = dart.privateName(declarer$, "_seenNames");
  var _solo = dart.privateName(declarer$, "_solo");
  var _as = dart.privateName(dart_rti, "_as");
  var _checkNotBuilt = dart.privateName(declarer$, "_checkNotBuilt");
  var _prefix = dart.privateName(declarer$, "_prefix");
  var _runSetUps = dart.privateName(declarer$, "_runSetUps");
  var _addEntry = dart.privateName(declarer$, "_addEntry");
  var _is = dart.privateName(dart_rti, "_is");
  var _setUpAll = dart.privateName(declarer$, "_setUpAll");
  var _tearDownAll = dart.privateName(declarer$, "_tearDownAll");
  declarer$.Declarer = class Declarer extends core.Object {
    get [_solo]() {
      return this[_soloEntries][$isNotEmpty];
    }
    static get current() {
      return T$.DeclarerN()[_as](async.Zone.current._get(C[1] || CT.C1));
    }
    static ['_#new#tearOff'](opts) {
      let metadata = opts && 'metadata' in opts ? opts.metadata : null;
      let platformVariables = opts && 'platformVariables' in opts ? opts.platformVariables : null;
      let collectTraces = opts && 'collectTraces' in opts ? opts.collectTraces : false;
      let noRetry = opts && 'noRetry' in opts ? opts.noRetry : false;
      let fullTestName = opts && 'fullTestName' in opts ? opts.fullTestName : null;
      let allowDuplicateTestNames = opts && 'allowDuplicateTestNames' in opts ? opts.allowDuplicateTestNames : true;
      return new declarer$.Declarer.new({metadata: metadata, platformVariables: platformVariables, collectTraces: collectTraces, noRetry: noRetry, fullTestName: fullTestName, allowDuplicateTestNames: allowDuplicateTestNames});
    }
    static ['_#_#tearOff'](_parent, _name, _metadata, _platformVariables, _collectTraces, _trace, _noRetry, _fullTestName, _seenNames) {
      return new declarer$.Declarer.__(_parent, _name, _metadata, _platformVariables, _collectTraces, _trace, _noRetry, _fullTestName, _seenNames);
    }
    declare(T, body) {
      return async.runZoned(T, body, {zoneValues: new (G.LinkedMapOfObjectN$ObjectN()).from([C[1] || CT.C1, this])});
    }
    test(name, body, opts) {
      let testOn = opts && 'testOn' in opts ? opts.testOn : null;
      let timeout = opts && 'timeout' in opts ? opts.timeout : null;
      let skip = opts && 'skip' in opts ? opts.skip : null;
      let onPlatform = opts && 'onPlatform' in opts ? opts.onPlatform : null;
      let tags = opts && 'tags' in opts ? opts.tags : null;
      let retry = opts && 'retry' in opts ? opts.retry : null;
      let solo = opts && 'solo' in opts ? opts.solo : false;
      this[_checkNotBuilt]("test");
      let fullName = this[_prefix](name);
      if (this[_fullTestName$] != null && fullName !== this[_fullTestName$]) {
        return;
      }
      let newMetadata = new metadata$.Metadata.parse({testOn: testOn, timeout: timeout, skip: skip, onPlatform: onPlatform, tags: tags, retry: this[_noRetry$] ? 0 : retry});
      newMetadata.validatePlatformSelectors(this[_platformVariables$]);
      let metadata = this[_metadata$].merge(newMetadata);
      this[_addEntry](new invoker$.LocalTest.new(fullName, metadata, dart.fn(() => async.async(T$.Null(), (function*() {
        let parents = G.JSArrayOfDeclarer().of([]);
        for (let declarer = this; declarer != null; declarer = declarer[_parent$]) {
          parents[$add](declarer);
        }
        for (let declarer of parents[$reversed]) {
          for (let tearDown of declarer[_tearDowns]) {
            dart.nullCheck(invoker$.Invoker.current).addTearDown(tearDown);
          }
        }
        yield async.runZoned(T$.FutureOfNull(), dart.fn(() => async.async(T$.Null(), (function*() {
          yield this[_runSetUps]();
          yield async.awaitWithTypeCheck(T$.Future(), body());
        }).bind(this)), T$.VoidToFutureOfNull()), {zoneValues: new (G.LinkedMapOfObjectN$ObjectN()).from([C[1] || CT.C1, this])});
      }).bind(this)), T$.VoidToFutureOfNull()), {trace: this[_collectTraces$] ? trace$.Trace.current(2) : null, guarded: false}));
      if (solo) {
        this[_soloEntries][$add](this[_entries][$last]);
      }
    }
    group(name, body, opts) {
      let testOn = opts && 'testOn' in opts ? opts.testOn : null;
      let timeout = opts && 'timeout' in opts ? opts.timeout : null;
      let skip = opts && 'skip' in opts ? opts.skip : null;
      let onPlatform = opts && 'onPlatform' in opts ? opts.onPlatform : null;
      let tags = opts && 'tags' in opts ? opts.tags : null;
      let retry = opts && 'retry' in opts ? opts.retry : null;
      let solo = opts && 'solo' in opts ? opts.solo : false;
      this[_checkNotBuilt]("group");
      let fullTestPrefix = this[_prefix](name);
      if (this[_fullTestName$] != null && !dart.nullCheck(this[_fullTestName$])[$startsWith](fullTestPrefix)) {
        return;
      }
      let newMetadata = new metadata$.Metadata.parse({testOn: testOn, timeout: timeout, skip: skip, onPlatform: onPlatform, tags: tags, retry: this[_noRetry$] ? 0 : retry});
      newMetadata.validatePlatformSelectors(this[_platformVariables$]);
      let metadata = this[_metadata$].merge(newMetadata);
      let trace = this[_collectTraces$] ? trace$.Trace.current(2) : null;
      let declarer = new declarer$.Declarer.__(this, fullTestPrefix, metadata, this[_platformVariables$], this[_collectTraces$], trace, this[_noRetry$], this[_fullTestName$], this[_seenNames$]);
      declarer.declare(T$.Null(), dart.fn(() => {
        let result = dart.dcall(body, []);
        if (!T$.Future()[_is](result)) return;
        dart.throw(new core.ArgumentError.new("Groups may not be async."));
      }, T$.VoidToNull()));
      this[_addEntry](declarer.build());
      if (solo || declarer[_solo]) {
        this[_soloEntries][$add](this[_entries][$last]);
      }
    }
    [_prefix](name) {
      return this[_name$] == null ? name : dart.str(this[_name$]) + " " + name;
    }
    setUp(callback) {
      this[_checkNotBuilt]("setUp");
      this[_setUps][$add](callback);
    }
    tearDown(callback) {
      this[_checkNotBuilt]("tearDown");
      this[_tearDowns][$add](callback);
    }
    setUpAll(callback) {
      this[_checkNotBuilt]("setUpAll");
      if (this[_collectTraces$]) this[_setUpAllTrace] == null ? this[_setUpAllTrace] = trace$.Trace.current(2) : null;
      this[_setUpAlls][$add](callback);
    }
    tearDownAll(callback) {
      this[_checkNotBuilt]("tearDownAll");
      if (this[_collectTraces$]) this[_tearDownAllTrace] == null ? this[_tearDownAllTrace] = trace$.Trace.current(2) : null;
      this[_tearDownAlls][$add](callback);
    }
    addTearDownAll(callback) {
      return this[_tearDownAlls][$add](callback);
    }
    build() {
      let t$360;
      this[_checkNotBuilt]("build");
      this[_built] = true;
      let entries = this[_entries][$map](T$.GroupEntry(), dart.fn(entry => {
        if (this[_solo] && !this[_soloEntries][$contains](entry)) {
          entry = new invoker$.LocalTest.new(entry.name, entry.metadata.change({skip: true, skipReason: "does not have \"solo\""}), dart.fn(() => {
          }, T$.VoidToNull()));
        }
        return entry;
      }, T$.GroupEntryToGroupEntry()))[$toList]();
      return new group.Group.new((t$360 = this[_name$], t$360 == null ? "" : t$360), entries, {metadata: this[_metadata$], trace: this[_trace$], setUpAll: this[_setUpAll], tearDownAll: this[_tearDownAll]});
    }
    [_checkNotBuilt](name) {
      if (!this[_built]) return;
      dart.throw(new core.StateError.new("Can't call " + name + "() once tests have begun running."));
    }
    [_runSetUps]() {
      return async.async(T$.dynamic(), (function* _runSetUps$() {
        if (this[_parent$] != null) yield dart.nullCheck(this[_parent$])[_runSetUps]();
        yield async.Future.forEach(T$.Function(), this[_setUps], dart.fn(setUp => dart.dcall(setUp, []), T$.FunctionTodynamic()));
      }).bind(this));
    }
    get [_setUpAll]() {
      if (this[_setUpAlls][$isEmpty]) return null;
      return new invoker$.LocalTest.new(this[_prefix]("(setUpAll)"), this[_metadata$].change({timeout: this[_timeout]}), dart.fn(() => async.runZoned(T$.FutureOfvoid(), dart.fn(() => async.Future.forEach(T$.Function(), this[_setUpAlls], dart.fn(setUp => dart.dcall(setUp, []), T$.FunctionTodynamic())), T$.VoidToFutureOfvoid()), {zoneValues: new (G.LinkedMapOfObjectN$ObjectN()).from([C[1] || CT.C1, this])}), T$.VoidToFutureOfvoid()), {trace: this[_setUpAllTrace], guarded: false, isScaffoldAll: true});
    }
    get [_tearDownAll]() {
      if (this[_setUpAlls][$isEmpty] && this[_tearDownAlls][$isEmpty]) return null;
      return new invoker$.LocalTest.new(this[_prefix]("(tearDownAll)"), this[_metadata$].change({timeout: this[_timeout]}), dart.fn(() => async.runZoned(T$.FutureOfvoid(), dart.fn(() => dart.nullCheck(invoker$.Invoker.current).runTearDowns(this[_tearDownAlls]), T$.VoidToFutureOfvoid()), {zoneValues: new (G.LinkedMapOfObjectN$ObjectN()).from([C[1] || CT.C1, this])}), T$.VoidToFutureOfvoid()), {trace: this[_tearDownAllTrace], guarded: false, isScaffoldAll: true});
    }
    [_addEntry](entry) {
      let t$360;
      if ((t$360 = this[_seenNames$], t$360 == null ? null : t$360.add(entry.name)) === false) {
        dart.throw(new declarer$.DuplicateTestNameException.new(entry.name));
      }
      this[_entries][$add](entry);
    }
  };
  (declarer$.Declarer.new = function(opts) {
    let t$360, t$360$;
    let metadata = opts && 'metadata' in opts ? opts.metadata : null;
    let platformVariables = opts && 'platformVariables' in opts ? opts.platformVariables : null;
    let collectTraces = opts && 'collectTraces' in opts ? opts.collectTraces : false;
    let noRetry = opts && 'noRetry' in opts ? opts.noRetry : false;
    let fullTestName = opts && 'fullTestName' in opts ? opts.fullTestName : null;
    let allowDuplicateTestNames = opts && 'allowDuplicateTestNames' in opts ? opts.allowDuplicateTestNames : true;
    declarer$.Declarer.__.call(this, null, null, (t$360 = metadata, t$360 == null ? metadata$.Metadata.new() : t$360), (t$360$ = platformVariables, t$360$ == null ? C[0] || CT.C0 : t$360$), collectTraces, null, noRetry, fullTestName, allowDuplicateTestNames ? null : G.LinkedHashSetOfString().new());
  }).prototype = declarer$.Declarer.prototype;
  (declarer$.Declarer.__ = function(_parent, _name, _metadata, _platformVariables, _collectTraces, _trace, _noRetry, _fullTestName, _seenNames) {
    this[_setUps] = G.JSArrayOfVoidTodynamic().of([]);
    this[_tearDowns] = G.JSArrayOfVoidTodynamic().of([]);
    this[_setUpAlls] = G.JSArrayOfVoidTodynamic().of([]);
    this[_timeout] = new timeout.Timeout.new(new core.Duration.new({minutes: 12}));
    this[_setUpAllTrace] = null;
    this[_tearDownAlls] = G.JSArrayOfVoidTodynamic().of([]);
    this[_tearDownAllTrace] = null;
    this[_entries] = G.JSArrayOfGroupEntry().of([]);
    this[_built] = false;
    this[_soloEntries] = G.JSArrayOfGroupEntry().of([]);
    this[_parent$] = _parent;
    this[_name$] = _name;
    this[_metadata$] = _metadata;
    this[_platformVariables$] = _platformVariables;
    this[_collectTraces$] = _collectTraces;
    this[_trace$] = _trace;
    this[_noRetry$] = _noRetry;
    this[_fullTestName$] = _fullTestName;
    this[_seenNames$] = _seenNames;
    ;
  }).prototype = declarer$.Declarer.prototype;
  dart.addTypeTests(declarer$.Declarer);
  dart.addRtiResources(declarer$.Declarer, ["test_api__src__backend__declarer|Declarer"]);
  dart.addTypeCaches(declarer$.Declarer);
  dart.setMethodSignature(declarer$.Declarer, () => dart.global.Object.setPrototypeOf({
    declare: T$.FnToT(),
    test: T$.StringAndFn__Tovoid(),
    group: T$.StringAndFn__Tovoid$1(),
    [_prefix]: T$.StringToString(),
    setUp: T$.FnTovoid(),
    tearDown: T$.FnTovoid(),
    setUpAll: T$.FnTovoid(),
    tearDownAll: T$.FnTovoid(),
    addTearDownAll: T$.FnTovoid(),
    build: T$.VoidToGroup(),
    [_checkNotBuilt]: T$.StringTovoid(),
    [_runSetUps]: T$.VoidToFuture(),
    [_addEntry]: T$.GroupEntryTovoid()
  }, dart.getMethods(dart.global.Object.getPrototypeOf(declarer$.Declarer))));
  dart.setMethodsDefaultTypeArgSignature(declarer$.Declarer, () => dart.global.Object.setPrototypeOf({declare: [T$.dynamic()]}, dart.getMethodsDefaultTypeArgs(dart.global.Object.getPrototypeOf(declarer$.Declarer))));
  dart.setGetterSignature(declarer$.Declarer, () => dart.global.Object.setPrototypeOf({
    [_solo]: T$.bool(),
    [_setUpAll]: T$.TestN(),
    [_tearDownAll]: T$.TestN()
  }, dart.getGetters(dart.global.Object.getPrototypeOf(declarer$.Declarer))));
  dart.setStaticGetterSignature(declarer$.Declarer, () => ['current']);
  dart.setLibraryUri(declarer$.Declarer, I[0]);
  dart.setFieldSignature(declarer$.Declarer, () => dart.global.Object.setPrototypeOf({
    [_parent$]: {type: T$.DeclarerN(), isConst: false, isFinal: true, libraryUri: I[0]},
    [_name$]: {type: T$.StringN(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_metadata$]: {type: T$.Metadata(), isConst: false, isFinal: true, libraryUri: I[2]},
    [_platformVariables$]: {type: T$.SetOfString(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_trace$]: {type: T$.TraceN(), isConst: false, isFinal: true, libraryUri: I[3]},
    [_collectTraces$]: {type: T$.bool(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_noRetry$]: {type: T$.bool(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_setUps]: {type: T$.ListOfVoidTodynamic(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_tearDowns]: {type: T$.ListOfVoidTodynamic(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_setUpAlls]: {type: T$.ListOfVoidTodynamic(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_timeout]: {type: T$.Timeout(), isConst: false, isFinal: true, libraryUri: I[4]},
    [_setUpAllTrace]: {type: T$.TraceN(), isConst: false, isFinal: false, libraryUri: I[3]},
    [_tearDownAlls]: {type: T$.ListOfVoidTodynamic(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_tearDownAllTrace]: {type: T$.TraceN(), isConst: false, isFinal: false, libraryUri: I[3]},
    [_entries]: {type: T$.ListOfGroupEntry(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_built]: {type: T$.bool(), isConst: false, isFinal: false, libraryUri: I[1]},
    [_soloEntries]: {type: T$.ListOfGroupEntry(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_fullTestName$]: {type: T$.StringN(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_seenNames$]: {type: T$.SetNOfString(), isConst: false, isFinal: true, libraryUri: I[1]}
  }, dart.getFields(dart.global.Object.getPrototypeOf(declarer$.Declarer))));
  var name$ = dart.privateName(declarer$, "DuplicateTestNameException.name");
  declarer$.DuplicateTestNameException = class DuplicateTestNameException extends core.Object {
    get name() {
      return this[name$];
    }
    set name(value) {
      super.name = value;
    }
    static ['_#new#tearOff'](name) {
      return new declarer$.DuplicateTestNameException.new(name);
    }
    toString() {
      return "A test with the name \"" + this.name + "\" was already declared. " + "Test cases must have unique names.\n\n" + "See https://github.com/dart-lang/test/blob/master/pkgs/test/doc/" + "configuration.md#allow_test_randomization for info on enabling this.";
    }
  };
  (declarer$.DuplicateTestNameException.new = function(name) {
    this[name$] = name;
    ;
  }).prototype = declarer$.DuplicateTestNameException.prototype;
  dart.addTypeTests(declarer$.DuplicateTestNameException);
  dart.addRtiResources(declarer$.DuplicateTestNameException, ["test_api__src__backend__declarer|DuplicateTestNameException", "core|Exception"]);
  dart.addTypeCaches(declarer$.DuplicateTestNameException);
  dart.setLibraryUri(declarer$.DuplicateTestNameException, I[0]);
  dart.setFieldSignature(declarer$.DuplicateTestNameException, () => dart.global.Object.setPrototypeOf({name: {type: T$.String(), isConst: false, isFinal: true, libraryUri: I[1]}}, dart.getFields(dart.global.Object.getPrototypeOf(declarer$.DuplicateTestNameException))));
  dart.defineExtensionMethods(declarer$.DuplicateTestNameException, ['toString']);
  var name$0 = dart.privateName(invoker$, "LocalTest.name");
  var metadata$0 = dart.privateName(invoker$, "LocalTest.metadata");
  var trace$0 = dart.privateName(invoker$, "LocalTest.trace");
  var isScaffoldAll$ = dart.privateName(invoker$, "LocalTest.isScaffoldAll");
  var _body$ = dart.privateName(invoker$, "_body");
  var _guarded$ = dart.privateName(invoker$, "_guarded");
  invoker$.LocalTest = class LocalTest extends test.Test {
    get name() {
      return this[name$0];
    }
    set name(value) {
      super.name = value;
    }
    get metadata() {
      return this[metadata$0];
    }
    set metadata(value) {
      super.metadata = value;
    }
    get trace() {
      return this[trace$0];
    }
    set trace(value) {
      super.trace = value;
    }
    get isScaffoldAll() {
      return this[isScaffoldAll$];
    }
    set isScaffoldAll(value) {
      super.isScaffoldAll = value;
    }
    static ['_#new#tearOff'](name, metadata, _body, opts) {
      let trace = opts && 'trace' in opts ? opts.trace : null;
      let guarded = opts && 'guarded' in opts ? opts.guarded : true;
      let isScaffoldAll = opts && 'isScaffoldAll' in opts ? opts.isScaffoldAll : false;
      return new invoker$.LocalTest.new(name, metadata, _body, {trace: trace, guarded: guarded, isScaffoldAll: isScaffoldAll});
    }
    static ['_#_#tearOff'](name, metadata, _body, trace, _guarded, isScaffoldAll) {
      return new invoker$.LocalTest.__(name, metadata, _body, trace, _guarded, isScaffoldAll);
    }
    load(suite, opts) {
      let groups = opts && 'groups' in opts ? opts.groups : null;
      let invoker = new invoker$.Invoker.__(suite, this, {groups: groups, guarded: this[_guarded$]});
      return invoker.liveTest;
    }
    forPlatform(platform) {
      if (!this.metadata.testOn.evaluate(platform)) return null;
      return new invoker$.LocalTest.__(this.name, this.metadata.forPlatform(platform), this[_body$], this.trace, this[_guarded$], this.isScaffoldAll);
    }
  };
  (invoker$.LocalTest.new = function(name, metadata, _body, opts) {
    let trace = opts && 'trace' in opts ? opts.trace : null;
    let guarded = opts && 'guarded' in opts ? opts.guarded : true;
    let isScaffoldAll = opts && 'isScaffoldAll' in opts ? opts.isScaffoldAll : false;
    this[name$0] = name;
    this[metadata$0] = metadata;
    this[_body$] = _body;
    this[trace$0] = trace;
    this[isScaffoldAll$] = isScaffoldAll;
    this[_guarded$] = guarded;
    ;
  }).prototype = invoker$.LocalTest.prototype;
  (invoker$.LocalTest.__ = function(name, metadata, _body, trace, _guarded, isScaffoldAll) {
    this[name$0] = name;
    this[metadata$0] = metadata;
    this[_body$] = _body;
    this[trace$0] = trace;
    this[_guarded$] = _guarded;
    this[isScaffoldAll$] = isScaffoldAll;
    ;
  }).prototype = invoker$.LocalTest.prototype;
  dart.addTypeTests(invoker$.LocalTest);
  dart.addRtiResources(invoker$.LocalTest, ["test_api__src__backend__invoker|LocalTest"]);
  dart.addTypeCaches(invoker$.LocalTest);
  dart.setMethodSignature(invoker$.LocalTest, () => dart.global.Object.setPrototypeOf({
    load: T$.Suite__ToLiveTest(),
    forPlatform: T$.SuitePlatformToTestN()
  }, dart.getMethods(dart.global.Object.getPrototypeOf(invoker$.LocalTest))));
  dart.setLibraryUri(invoker$.LocalTest, I[5]);
  dart.setFieldSignature(invoker$.LocalTest, () => dart.global.Object.setPrototypeOf({
    name: {type: T$.String(), isConst: false, isFinal: true, libraryUri: I[1]},
    metadata: {type: T$.Metadata(), isConst: false, isFinal: true, libraryUri: I[2]},
    trace: {type: T$.TraceN(), isConst: false, isFinal: true, libraryUri: I[3]},
    isScaffoldAll: {type: T$.bool(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_body$]: {type: T$.VoidTodynamic(), isConst: false, isFinal: true},
    [_guarded$]: {type: T$.bool(), isConst: false, isFinal: true, libraryUri: I[1]}
  }, dart.getFields(dart.global.Object.getPrototypeOf(invoker$.LocalTest))));
  var __Invoker__controller = dart.privateName(invoker$, "_#Invoker#_controller");
  var _forceOpenForTearDownKey = dart.privateName(invoker$, "_forceOpenForTearDownKey");
  var _onCloseCompleter = dart.privateName(invoker$, "_onCloseCompleter");
  var _outstandingCallbackZones = dart.privateName(invoker$, "_outstandingCallbackZones");
  var _counterKey = dart.privateName(invoker$, "_counterKey");
  var _runCount = dart.privateName(invoker$, "_runCount");
  var _timeoutTimer = dart.privateName(invoker$, "_timeoutTimer");
  var _tearDowns$ = dart.privateName(invoker$, "_tearDowns");
  var _printsOnFailure = dart.privateName(invoker$, "_printsOnFailure");
  var _controller = dart.privateName(invoker$, "_controller");
  var _onRun = dart.privateName(invoker$, "_onRun");
  var _forceOpen = dart.privateName(invoker$, "_forceOpen");
  var _test = dart.privateName(invoker$, "_test");
  var _outstandingCallbacks = dart.privateName(invoker$, "_outstandingCallbacks");
  var _eval = dart.privateName(dart_rti, "_eval");
  var _handleError = dart.privateName(invoker$, "_handleError");
  var _waitForOutstandingCallbacks = dart.privateName(invoker$, "_waitForOutstandingCallbacks");
  var Duration__duration = dart.privateName(core, "Duration._duration");
  var _Enum__name = dart.privateName(core, "_Enum._name");
  var _Enum_index = dart.privateName(core, "_Enum.index");
  var State_result = dart.privateName(state, "State.result");
  var State_status = dart.privateName(state, "State.status");
  var _print = dart.privateName(invoker$, "_print");
  var _guardIfGuarded = dart.privateName(invoker$, "_guardIfGuarded");
  invoker$.Invoker = class Invoker extends core.Object {
    get liveTest() {
      return this[_controller];
    }
    get [_controller]() {
      let t$360;
      t$360 = this[__Invoker__controller];
      return t$360 == null ? dart.throw(new _internal.LateError.fieldNI("_controller")) : t$360;
    }
    set [_controller](_controller$35param) {
      if (this[__Invoker__controller] == null)
        this[__Invoker__controller] = _controller$35param;
      else
        dart.throw(new _internal.LateError.fieldAI("_controller"));
    }
    get [_forceOpen]() {
      return T$.bool()[_as](async.Zone.current._get(this[_forceOpenForTearDownKey]));
    }
    get closed() {
      return !this[_forceOpen] && this[_onCloseCompleter].isCompleted;
    }
    get onClose() {
      return this[_onCloseCompleter].future;
    }
    get [_test]() {
      return T$.LocalTest()[_as](this.liveTest.test);
    }
    get [_outstandingCallbacks]() {
      let counter = T$._AsyncCounterN()[_as](async.Zone.current._get(this[_counterKey]));
      if (counter != null) return counter;
      dart.throw(new core.StateError.new("Can't add or remove outstanding callbacks outside of a test body."));
    }
    static get current() {
      return T$.InvokerN()[_as](async.Zone.current._get(C[2] || CT.C2));
    }
    static guard(T, callback) {
      return async.runZoned(T[_eval]("0?"), callback, {zoneSpecification: new async._ZoneSpecification.new({handleUncaughtError: dart.fn((self, _, zone, error, stackTrace) => {
            let invoker = T$.InvokerN()[_as](zone._get(C[2] || CT.C2));
            if (invoker != null) {
              dart.nullCheck(self.parent).run(T$.void(), dart.fn(() => invoker[_handleError](zone, error, stackTrace), T$.VoidTovoid()));
            } else {
              dart.nullCheck(self.parent).handleUncaughtError(error, stackTrace);
            }
          }, T$.ZoneAndZoneDelegateAndZone__Tovoid())})});
    }
    static ['_#_#tearOff'](suite, test, opts) {
      let groups = opts && 'groups' in opts ? opts.groups : null;
      let guarded = opts && 'guarded' in opts ? opts.guarded : true;
      return new invoker$.Invoker.__(suite, test, {groups: groups, guarded: guarded});
    }
    addTearDown(callback) {
      if (this.closed) dart.throw(new closed_exception.ClosedException.new());
      if (this[_test].isScaffoldAll) {
        dart.nullCheck(declarer$.Declarer.current).addTearDownAll(callback);
      } else {
        this[_tearDowns$][$add](callback);
      }
    }
    addOutstandingCallback() {
      if (this.closed) dart.throw(new closed_exception.ClosedException.new());
      this[_outstandingCallbacks].increment();
    }
    removeOutstandingCallback() {
      this.heartbeat();
      this[_outstandingCallbacks].decrement();
    }
    runTearDowns(tearDowns) {
      this.heartbeat();
      return async.runZoned(T$.FutureOfvoid(), dart.fn(() => async.async(T$.void(), (function*() {
        while (tearDowns[$isNotEmpty]) {
          let completer = async.Completer.new();
          this.addOutstandingCallback();
          invoker$['_extension#0|get#unawaited'](T$.void(), this[_waitForOutstandingCallbacks](dart.fn(() => {
            G.FutureOfvoid().sync(tearDowns[$removeLast]()).whenComplete(T$.dynamicTovoid()[_as](dart.bind(completer, 'complete')));
          }, T$.VoidToNull())).then(T$.void(), dart.fn(_ => this.removeOutstandingCallback(), T$.voidTovoid$1())));
          yield completer.future;
        }
      }).bind(this)), T$.VoidToFutureOfvoid()), {zoneValues: new (G.LinkedMapOfObjectN$ObjectN()).from([this[_forceOpenForTearDownKey], true])});
    }
    [_waitForOutstandingCallbacks](fn) {
      this.heartbeat();
      let zone = null;
      let counter = new invoker$._AsyncCounter.new();
      async.runZoned(T$.FutureOfNull(), dart.fn(() => async.async(T$.Null(), (function*() {
        zone = async.Zone.current;
        this[_outstandingCallbackZones][$add](dart.nullCheck(zone));
        try {
          yield async.awaitWithTypeCheck(T$.FutureOfvoid(), fn());
        } finally {
          counter.decrement();
        }
      }).bind(this)), T$.VoidToFutureOfNull()), {zoneValues: new (G.LinkedMapOfObjectN$ObjectN()).from([this[_counterKey], counter])});
      return counter.onZero.whenComplete(dart.fn(() => {
        this[_outstandingCallbackZones][$remove](dart.nullCheck(zone));
      }, T$.VoidToNull()));
    }
    heartbeat() {
      if (this.liveTest.isComplete) return;
      if (this[_timeoutTimer] != null) dart.nullCheck(this[_timeoutTimer]).cancel();
      if (this.liveTest.suite.ignoreTimeouts === true) return;
      let defaultTimeout = C[3] || CT.C3;
      let timeout = this.liveTest.test.metadata.timeout.apply(defaultTimeout);
      if (timeout == null) return;
      function message() {
        let message = "Test timed out after " + pretty_print.niceDuration(timeout) + ".";
        if (dart.equals(timeout, defaultTimeout)) {
          message = message + " See https://pub.dev/packages/test#timeouts";
        }
        return message;
      }
      dart.fn(message, T$.VoidToString());
      this[_timeoutTimer] = async.Zone.root.createTimer(timeout, dart.fn(() => {
        this[_outstandingCallbackZones][$last].run(T$.Null(), dart.fn(() => {
          this[_handleError](async.Zone.current, new async.TimeoutException.new(message(), timeout));
          this[_outstandingCallbacks].complete();
        }, T$.VoidToNull()));
      }, T$.VoidTovoid()));
    }
    skip(message = null) {
      if (this.liveTest.state.shouldBeDone) {
        this[_controller].setState(C[4] || CT.C4);
        dart.throw("This test was marked as skipped after it had already completed.\nMake sure to use a matching library which informs the test runner\nof pending async work.");
      }
      if (message != null) this[_controller].message(new message$.Message.skip(message));
      this[_controller].setState(C[7] || CT.C7);
    }
    printOnFailure(message) {
      message = message[$trim]();
      if (this.liveTest.state.result.isFailing) {
        this[_print]("\n" + message);
      } else {
        this[_printsOnFailure][$add](message);
      }
    }
    [_handleError](zone, error, stackTrace = null) {
      if (this[_runCount] !== zone._get(C[10] || CT.C10)) return;
      zone.run(T$.Null(), dart.fn(() => {
        if (stackTrace == null) {
          stackTrace = chain.Chain.current();
        } else {
          stackTrace = chain.Chain.forTrace(dart.nullCheck(stackTrace));
        }
      }, T$.VoidToNull()));
      let shouldBeDone = this.liveTest.state.shouldBeDone;
      if (!T$.TestFailure()[_is](error)) {
        this[_controller].setState(C[4] || CT.C4);
      } else if (this.liveTest.state.result !== state.Result.error) {
        this[_controller].setState(C[11] || CT.C11);
      }
      this[_controller].addError(error, dart.nullCheck(stackTrace));
      if (this[_printsOnFailure][$isNotEmpty]) {
        this[_print](this[_printsOnFailure][$join]("\n\n"));
        this[_printsOnFailure][$clear]();
      }
      if (!shouldBeDone) return;
      if (this.liveTest.suite.isLoadSuite) return;
      this[_handleError](zone, "This test failed after it had already completed.\nMake sure to use a matching library which informs the test runner\nof pending async work.", stackTrace);
    }
    [_onRun]() {
      this[_controller].setState(C[13] || CT.C13);
      this[_runCount] = this[_runCount] + 1;
      chain.Chain.capture(T$.Null(), dart.fn(() => {
        this[_guardIfGuarded](dart.fn(() => {
          async.runZoned(T$.FutureOfNull(), dart.fn(() => async.async(T$.Null(), (function*() {
            yield G.FutureOfNull().new(dart.fn(() => {
            }, T$.VoidToNull()));
            yield this[_waitForOutstandingCallbacks](this[_test][_body$]);
            yield this[_waitForOutstandingCallbacks](dart.fn(() => this.runTearDowns(this[_tearDowns$]), T$.VoidToFutureOfvoid()));
            if (this[_timeoutTimer] != null) dart.nullCheck(this[_timeoutTimer]).cancel();
            if (this.liveTest.state.result !== state.Result.success && this[_runCount] < this.liveTest.test.metadata.retry + 1) {
              this[_controller].message(new message$.Message.print("Retry: " + this.liveTest.test.name));
              this[_onRun]();
              return;
            }
            this[_controller].setState(new state.State.new(state.Status.complete, this.liveTest.state.result));
            this[_controller].completer.complete();
          }).bind(this)), T$.VoidToFutureOfNull()), {zoneValues: new (G.LinkedMapOfObjectN$ObjectN()).from([C[2] || CT.C2, this, this[_forceOpenForTearDownKey], false, C[10] || CT.C10, this[_runCount]]), zoneSpecification: new async._ZoneSpecification.new({print: dart.fn((_, __, ___, line) => this[_print](line), T$.ZoneAndZoneDelegateAndZone__Tovoid$1())})});
        }, T$.VoidTovoid()));
      }, T$.VoidToNull()), {when: this.liveTest.test.metadata.chainStackTraces, errorZone: false});
    }
    [_guardIfGuarded](callback) {
      if (this[_guarded$]) {
        invoker$.Invoker.guard(T$.void(), callback);
      } else {
        callback();
      }
    }
    [_print](text) {
      return this[_controller].message(new message$.Message.print(text));
    }
  };
  (invoker$.Invoker.__ = function(suite, test, opts) {
    let groups = opts && 'groups' in opts ? opts.groups : null;
    let guarded = opts && 'guarded' in opts ? opts.guarded : true;
    this[__Invoker__controller] = null;
    this[_forceOpenForTearDownKey] = new core.Object.new();
    this[_onCloseCompleter] = G.CompleterOfvoid().new();
    this[_outstandingCallbackZones] = G.JSArrayOfZone().of([]);
    this[_counterKey] = new core.Object.new();
    this[_runCount] = 0;
    this[_timeoutTimer] = null;
    this[_tearDowns$] = G.JSArrayOfVoidTodynamic().of([]);
    this[_printsOnFailure] = G.JSArrayOfString().of([]);
    this[_guarded$] = guarded;
    this[_controller] = new live_test_controller.LiveTestController.new(suite, test, dart.bind(this, _onRun), T$.voidTovoid()[_as](dart.bind(this[_onCloseCompleter], 'complete')), {groups: groups});
  }).prototype = invoker$.Invoker.prototype;
  dart.addTypeTests(invoker$.Invoker);
  dart.addRtiResources(invoker$.Invoker, ["test_api__src__backend__invoker|Invoker"]);
  dart.addTypeCaches(invoker$.Invoker);
  dart.setMethodSignature(invoker$.Invoker, () => dart.global.Object.setPrototypeOf({
    addTearDown: T$.FnTovoid(),
    addOutstandingCallback: T$.VoidTovoid(),
    removeOutstandingCallback: T$.VoidTovoid(),
    runTearDowns: T$.ListOfVoidTovoidToFutureOfvoid(),
    [_waitForOutstandingCallbacks]: T$.FnToFutureOfvoid(),
    heartbeat: T$.VoidTovoid(),
    skip: T$.StringNTovoid(),
    printOnFailure: T$.StringTovoid(),
    [_handleError]: T$.ZoneAndObjectAndStackTraceNTovoid(),
    [_onRun]: T$.VoidTovoid(),
    [_guardIfGuarded]: T$.FnTovoid$1(),
    [_print]: T$.StringTovoid()
  }, dart.getMethods(dart.global.Object.getPrototypeOf(invoker$.Invoker))));
  dart.setStaticMethodSignature(invoker$.Invoker, () => ['guard']);
  dart.setGetterSignature(invoker$.Invoker, () => dart.global.Object.setPrototypeOf({
    liveTest: T$.LiveTest(),
    [_controller]: T$.LiveTestController(),
    [_forceOpen]: T$.bool(),
    closed: T$.bool(),
    onClose: T$.FutureOfvoid(),
    [_test]: T$.LocalTest(),
    [_outstandingCallbacks]: T$._AsyncCounter()
  }, dart.getGetters(dart.global.Object.getPrototypeOf(invoker$.Invoker))));
  dart.setSetterSignature(invoker$.Invoker, () => dart.global.Object.setPrototypeOf({[_controller]: T$.LiveTestController()}, dart.getSetters(dart.global.Object.getPrototypeOf(invoker$.Invoker))));
  dart.setStaticGetterSignature(invoker$.Invoker, () => ['current']);
  dart.setLibraryUri(invoker$.Invoker, I[5]);
  dart.setFieldSignature(invoker$.Invoker, () => dart.global.Object.setPrototypeOf({
    [__Invoker__controller]: {type: T$.LiveTestControllerN(), isConst: false, isFinal: false, libraryUri: I[6]},
    [_guarded$]: {type: T$.bool(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_forceOpenForTearDownKey]: {type: T$.Object(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_onCloseCompleter]: {type: T$.CompleterOfvoid(), isConst: false, isFinal: true, libraryUri: I[7]},
    [_outstandingCallbackZones]: {type: T$.ListOfZone(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_counterKey]: {type: T$.Object(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_runCount]: {type: T$.int(), isConst: false, isFinal: false, libraryUri: I[1]},
    [_timeoutTimer]: {type: T$.TimerN(), isConst: false, isFinal: false, libraryUri: I[7]},
    [_tearDowns$]: {type: T$.ListOfVoidTodynamic(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_printsOnFailure]: {type: T$.ListOfString(), isConst: false, isFinal: true, libraryUri: I[1]}
  }, dart.getFields(dart.global.Object.getPrototypeOf(invoker$.Invoker))));
  var _count = dart.privateName(invoker$, "_count");
  var _completer = dart.privateName(invoker$, "_completer");
  invoker$._AsyncCounter = class _AsyncCounter extends core.Object {
    get onZero() {
      return this[_completer].future;
    }
    increment() {
      this[_count] = this[_count] + 1;
    }
    decrement() {
      this[_count] = this[_count] - 1;
      if (this[_count] !== 0) return;
      if (this[_completer].isCompleted) return;
      this[_completer].complete();
    }
    complete() {
      if (!this[_completer].isCompleted) this[_completer].complete();
    }
    static ['_#new#tearOff']() {
      return new invoker$._AsyncCounter.new();
    }
  };
  (invoker$._AsyncCounter.new = function() {
    this[_count] = 1;
    this[_completer] = G.CompleterOfvoid().new();
    ;
  }).prototype = invoker$._AsyncCounter.prototype;
  dart.addTypeTests(invoker$._AsyncCounter);
  dart.addRtiResources(invoker$._AsyncCounter, ["test_api__src__backend__invoker|_AsyncCounter"]);
  dart.addTypeCaches(invoker$._AsyncCounter);
  dart.setMethodSignature(invoker$._AsyncCounter, () => dart.global.Object.setPrototypeOf({
    increment: T$.VoidTovoid(),
    decrement: T$.VoidTovoid(),
    complete: T$.VoidTovoid()
  }, dart.getMethods(dart.global.Object.getPrototypeOf(invoker$._AsyncCounter))));
  dart.setGetterSignature(invoker$._AsyncCounter, () => dart.global.Object.setPrototypeOf({onZero: T$.FutureOfvoid()}, dart.getGetters(dart.global.Object.getPrototypeOf(invoker$._AsyncCounter))));
  dart.setLibraryUri(invoker$._AsyncCounter, I[5]);
  dart.setFieldSignature(invoker$._AsyncCounter, () => dart.global.Object.setPrototypeOf({
    [_count]: {type: T$.int(), isConst: false, isFinal: false, libraryUri: I[1]},
    [_completer]: {type: T$.CompleterOfvoid(), isConst: false, isFinal: true, libraryUri: I[7]}
  }, dart.getFields(dart.global.Object.getPrototypeOf(invoker$._AsyncCounter))));
  invoker$['_extension#0|get#unawaited'] = function _extension$350$124get$35unawaited(T, $this) {
  };
  dart.moduleConstCaches.set("packages/test_api/src/backend/declarer.dart", C);
  dart_rti._Universe.addRules(dart.typeUniverse, JSON.parse('{"core|String":{"Comparable.T":"core|String","core|Comparable":["core|String"],"core|Pattern":[]},"core|Comparable":{"Comparable.T":"1"},"collection__src__empty_unmodifiable_set|EmptyUnmodifiableSet":{"EmptyUnmodifiableSet.E":"1","UnmodifiableSetView.E":"1","collection__src__unmodifiable_wrappers|UnmodifiableSetView":["1"],"Iterable.E":"1","core|Iterable":["1"],"UnmodifiableSetMixin.E":"1","collection__src__unmodifiable_wrappers|UnmodifiableSetMixin":["1"],"Set.E":"1","core|Set":["1"],"DelegatingSet.E":"1","collection__src__wrappers|DelegatingSet":["1"],"_SetIterable.E":"1","core|_SetIterable":["1"],"_DelegatingIterableBase.E":"1","collection__src__wrappers|_DelegatingIterableBase":["1"],"EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"]},"collection__src__unmodifiable_wrappers|UnmodifiableSetView":{"UnmodifiableSetView.E":"1","DelegatingSet.E":"1","collection__src__wrappers|DelegatingSet":["1"],"UnmodifiableSetMixin.E":"1","collection__src__unmodifiable_wrappers|UnmodifiableSetMixin":["1"],"_DelegatingIterableBase.E":"1","collection__src__wrappers|_DelegatingIterableBase":["1"],"Set.E":"1","core|Set":["1"],"Iterable.E":"1","core|Iterable":["1"],"_SetIterable.E":"1","core|_SetIterable":["1"],"EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"]},"core|Iterable":{"Iterable.E":"1"},"collection__src__unmodifiable_wrappers|UnmodifiableSetMixin":{"UnmodifiableSetMixin.E":"1","Set.E":"1","core|Set":["1"],"Iterable.E":"1","core|Iterable":["1"],"_SetIterable.E":"1","core|_SetIterable":["1"],"EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"]},"core|Set":{"Set.E":"1","Iterable.E":"1","core|Iterable":["1"],"_SetIterable.E":"1","core|_SetIterable":["1"],"EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"]},"collection__src__wrappers|DelegatingSet":{"DelegatingSet.E":"1","_DelegatingIterableBase.E":"1","collection__src__wrappers|_DelegatingIterableBase":["1"],"Set.E":"1","core|Set":["1"],"Iterable.E":"1","core|Iterable":["1"],"_SetIterable.E":"1","core|_SetIterable":["1"],"EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"]},"core|_SetIterable":{"_SetIterable.E":"1","EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"],"Iterable.E":"1","core|Iterable":["1"]},"collection__src__wrappers|_DelegatingIterableBase":{"_DelegatingIterableBase.E":"1","Iterable.E":"1","core|Iterable":["1"]},"_internal|EfficientLengthIterable":{"EfficientLengthIterable.T":"1","Iterable.E":"1","core|Iterable":["1"]},"_internal|HideEfficientLengthIterable":{"HideEfficientLengthIterable.T":"1","Iterable.E":"1","core|Iterable":["1"]},"async|Future":{"Future.T":"1"},"core|Map":{"Map.K":"1","Map.V":"2"},"core|int":{"core|num":[],"Comparable.T":"core|num","core|Comparable":["core|num"]},"core|num":{"Comparable.T":"core|num","core|Comparable":["core|num"]},"test_api__src__backend__group|Group":{"test_api__src__backend__group_entry|GroupEntry":[]},"test_api__src__backend__test|Test":{"test_api__src__backend__group_entry|GroupEntry":[]},"stack_trace__src__trace|Trace":{"core|StackTrace":[]},"core|List":{"List.E":"1","Iterable.E":"1","core|Iterable":["1"],"_ListIterable.E":"1","core|_ListIterable":["1"],"EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"]},"core|_ListIterable":{"_ListIterable.E":"1","EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"],"Iterable.E":"1","core|Iterable":["1"]},"test_api__src__backend__invoker|LocalTest":{"test_api__src__backend__test|Test":[],"test_api__src__backend__group_entry|GroupEntry":[]},"test_api__src__backend__test_failure|TestFailure":{"core|Exception":[]},"test_api__src__backend__live_test_controller|LiveTestController":{"test_api__src__backend__live_test|LiveTest":[]},"async|Completer":{"Completer.T":"1"},"test_api__src__backend__declarer|DuplicateTestNameException":{"core|Exception":[]}}'));
  dart.trackLibraries("packages/test_api/src/backend/declarer.dart", {
    "package:test_api/src/backend/declarer.dart": declarer$,
    "package:test_api/src/backend/invoker.dart": invoker$
  }, {
  }, '{"version":3,"sourceRoot":"","sources":["declarer.dart","invoker.dart"],"names":[],"mappings":"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","file":"../../../../../../../../../packages/test_api/src/backend/declarer.dart.lib.js"}');
  // Exports:
  return {
    src__backend__declarer: declarer$,
    src__backend__invoker: invoker$
  };
}));

//# sourceMappingURL=declarer.dart.lib.js.map
