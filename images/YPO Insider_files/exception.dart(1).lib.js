// Generated by DDC, the Dart Development Compiler (to JavaScript).
// Version: 3.3.1 (stable) (Wed Mar 6 13:09:19 2024 +0000) on "macos_arm64"
// Module: packages/_flutterfire_internals/src/exception.dart
// Flags: newRuntimeTypes(true), soundNullSafety(true), enableAsserts(true)
define(['dart_sdk', 'packages/firebase_core_platform_interface/src/pigeon/mocks.dart'], (function load__packages___flutterfire_internals__src__exception_dart(dart_sdk, packages__firebase_core_platform_interface__src__pigeon__mocks$46dart) {
  'use strict';
  const dart_rti = dart_sdk.dart_rti;
  const core = dart_sdk.core;
  const collection = dart_sdk.collection;
  const dart = dart_sdk.dart;
  const dartx = dart_sdk.dartx;
  const firebase_core_platform_interface = packages__firebase_core_platform_interface__src__pigeon__mocks$46dart.firebase_core_platform_interface;
  var exception$ = Object.create(dart.library);
  var $_get = dartx._get;
  dart._checkModuleNullSafetyMode(true);
  dart._checkModuleRuntimeTypes(true);
  var T = {
    PlatformException: () => (T.PlatformException = dart.constFn(dart_rti.findType("flutter__src__services__message_codec|PlatformException")))(),
    String: () => (T.String = dart.constFn(dart_rti.findType("core|String")))(),
    Object: () => (T.Object = dart.constFn(dart_rti.findType("core|Object")))(),
    Map: () => (T.Map = dart.constFn(dart_rti.findType("core|Map<@,@>")))(),
    StringN: () => (T.StringN = dart.constFn(dart_rti.findType("core|String?")))(),
    ObjectTodynamic: () => (T.ObjectTodynamic = dart.constFn(dart_rti.findType("@(core|Object)")))(),
    __ToStream: () => (T.__ToStream = dart.constFn(dart_rti.findType("async|Stream<@>({arguments:@,onError:@(core|Object,core|StackTrace)})")))()
  };
  var G = {
    LinkedHashMapOfString$Object: () => (G.LinkedHashMapOfString$Object = dart.constFn(collection.LinkedHashMap$(T.String(), T.Object())))()
  };
  const CT = Object.create({
    _: () => (C, CT)
  });
  var _is = dart.privateName(dart_rti, "_is");
  var _as = dart.privateName(dart_rti, "_as");
  exception$.convertPlatformExceptionToFirebaseException = function convertPlatformExceptionToFirebaseException(exception, rawStackTrace, opts) {
    let plugin = opts && 'plugin' in opts ? opts.plugin : null;
    let stackTrace = rawStackTrace;
    if (dart.equals(stackTrace, core.StackTrace.empty)) {
      stackTrace = core.StackTrace.current;
    }
    if (!T.PlatformException()[_is](exception)) {
      core.Error.throwWithStackTrace(exception, stackTrace);
    }
    core.Error.throwWithStackTrace(exception$.platformExceptionToFirebaseException(exception, {plugin: plugin}), stackTrace);
  };
  exception$.platformExceptionToFirebaseException = function platformExceptionToFirebaseException(platformException, opts) {
    let t$360, t$360$, t$360$0;
    let plugin = opts && 'plugin' in opts ? opts.plugin : null;
    let details = platformException.details != null ? G.LinkedHashMapOfString$Object().from(T.Map()[_as](platformException.details)) : null;
    let code = null;
    let message = (t$360 = platformException.message, t$360 == null ? "" : t$360);
    if (details != null) {
      code = (t$360$ = T.StringN()[_as](details[$_get]("code")), t$360$ == null ? code : t$360$);
      message = (t$360$0 = T.StringN()[_as](details[$_get]("message")), t$360$0 == null ? message : t$360$0);
    }
    return new firebase_core_platform_interface.FirebaseException.new({plugin: plugin, code: code, message: message});
  };
  exception$['EventChannelExtension|receiveGuardedBroadcastStream'] = function EventChannelExtension$124receiveGuardedBroadcastStream($this, opts) {
    let $arguments = opts && 'arguments' in opts ? opts.arguments : null;
    let onError = opts && 'onError' in opts ? opts.onError : null;
    let incomingStackTrace = core.StackTrace.current;
    return $this.receiveBroadcastStream($arguments).handleError(dart.fn(error => onError(error, incomingStackTrace), T.ObjectTodynamic()));
  };
  exception$['EventChannelExtension|get#receiveGuardedBroadcastStream'] = function EventChannelExtension$124get$35receiveGuardedBroadcastStream($this) {
    return dart.fn(opts => {
      let $arguments = opts && 'arguments' in opts ? opts.arguments : null;
      let onError = opts && 'onError' in opts ? opts.onError : null;
      return exception$['EventChannelExtension|receiveGuardedBroadcastStream']($this, {arguments: $arguments, onError: onError});
    }, T.__ToStream());
  };
  dart_rti._Universe.addRules(dart.typeUniverse, JSON.parse('{"flutter__src__services__message_codec|PlatformException":{"core|Exception":[]},"core|String":{"Comparable.T":"core|String","core|Comparable":["core|String"],"core|Pattern":[]},"core|Comparable":{"Comparable.T":"1"},"core|Map":{"Map.K":"1","Map.V":"2"},"async|Stream":{"Stream.T":"1"}}'));
  dart.trackLibraries("packages/_flutterfire_internals/src/exception.dart", {
    "package:_flutterfire_internals/src/exception.dart": exception$
  }, {
  }, '{"version":3,"sourceRoot":"","sources":["exception.dart"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gHAYS,WACI;QACK;AAEZ,qBAAa,aAAa;AAC9B,QAAe,YAAX,UAAU,EAAe;AAC3B,mBAAwB;;AAG1B,SAAc,2BAAV,SAAS;AACL,qCAAoB,SAAS,EAAE,UAAU;;AAG3C,mCACJ,gDAAqC,SAAS,WAAU,MAAM,IAC9D,UAAU;EAEd;kGAQoB;;QACF;AAEK,kBAAU,AAAkB,AAAQ,iBAAT,mBAC1C,mDAAyB,AAAkB,iBAAD,aAC1C;AAEE;AACD,mBAAoC,QAA1B,AAAkB,iBAAD,UAAC,gBAAW;AAE9C,QAAI,OAAO;AACT,cAAoC,SAAZ,iBAAhB,AAAO,OAAA,QAAC,UAAQ,iBAAe,IAAI;AAC3C,iBAA0C,UAAZ,iBAAnB,AAAO,OAAA,QAAC,aAAW,kBAAe,OAAO;;AAGtD,UAAO,qEACG,MAAM,QACR,IAAI,WACD,OAAO;EAEpB;;QAMY;QACuD;AAEzD,6BAAgC;AAEtC,UAAO,AAAkC,8BAAX,wBAAuB,QAAQ,SAIpD,AAAO,OAAA,CAAC,KAAK,EAAE,kBAAkB;EAE5C;;AAZgB;UACN;UACuD;AAFjD,8HAAO;;EAYvB","file":"../../../../../../../../packages/_flutterfire_internals/src/exception.dart.lib.js"}');
  // Exports:
  return {
    src__exception: exception$
  };
}));

//# sourceMappingURL=exception.dart.lib.js.map
