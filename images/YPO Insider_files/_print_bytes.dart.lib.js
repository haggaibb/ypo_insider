// Generated by DDC, the Dart Development Compiler (to JavaScript).
// Version: 3.3.1 (stable) (Wed Mar 6 13:09:19 2024 +0000) on "macos_arm64"
// Module: packages/leak_tracker/src/leak_tracking/primitives/_print_bytes.dart
// Flags: newRuntimeTypes(true), soundNullSafety(true), enableAsserts(true)
define(['dart_sdk'], (function load__packages__leak_tracker__src__leak_tracking__primitives___print_bytes_dart(dart_sdk) {
  'use strict';
  const dart_rti = dart_sdk.dart_rti;
  const core = dart_sdk.core;
  const dart = dart_sdk.dart;
  const dartx = dart_sdk.dartx;
  var _print_bytes = Object.create(dart.library);
  var $abs = dartx.abs;
  var $toString = dartx.toString;
  var $toStringAsFixed = dartx.toStringAsFixed;
  dart._checkModuleNullSafetyMode(true);
  dart._checkModuleRuntimeTypes(true);
  const CT = Object.create({
    _: () => (C, CT)
  });
  _print_bytes.prettyPrintBytes = function prettyPrintBytes(bytes, opts) {
    let kbFractionDigits = opts && 'kbFractionDigits' in opts ? opts.kbFractionDigits : 0;
    let mbFractionDigits = opts && 'mbFractionDigits' in opts ? opts.mbFractionDigits : 1;
    let gbFractionDigits = opts && 'gbFractionDigits' in opts ? opts.gbFractionDigits : 1;
    let includeUnit = opts && 'includeUnit' in opts ? opts.includeUnit : false;
    let roundingPoint = opts && 'roundingPoint' in opts ? opts.roundingPoint : 1;
    let maxBytes = opts && 'maxBytes' in opts ? opts.maxBytes : 52;
    if (bytes == null) {
      return null;
    }
    if (bytes[$abs]() < maxBytes && kbFractionDigits === 1) {
      let output = dart.toString(bytes);
      if (includeUnit) {
        output = output + " B";
      }
      return output;
    }
    let sizeInKB = bytes[$abs]() / 1024.0;
    let sizeInMB = sizeInKB / 1024.0;
    let sizeInGB = sizeInMB / 1024.0;
    if (sizeInGB >= roundingPoint) {
      return _print_bytes.printGB(bytes, {fractionDigits: gbFractionDigits, includeUnit: includeUnit});
    } else if (sizeInMB >= roundingPoint) {
      return _print_bytes.printMB(bytes, {fractionDigits: mbFractionDigits, includeUnit: includeUnit});
    } else {
      return _print_bytes.printKB(bytes, {fractionDigits: kbFractionDigits, includeUnit: includeUnit});
    }
  };
  _print_bytes.printKB = function printKB(bytes, opts) {
    let fractionDigits = opts && 'fractionDigits' in opts ? opts.fractionDigits : 0;
    let includeUnit = opts && 'includeUnit' in opts ? opts.includeUnit : false;
    let processedBytes = fractionDigits === 0 ? bytes + 511 : bytes;
    let output = (processedBytes / 1024.0)[$toStringAsFixed](fractionDigits);
    if (includeUnit) {
      output = output + " KB";
    }
    return output;
  };
  _print_bytes.printMB = function printMB(bytes, opts) {
    let fractionDigits = opts && 'fractionDigits' in opts ? opts.fractionDigits : 1;
    let includeUnit = opts && 'includeUnit' in opts ? opts.includeUnit : false;
    let output = (bytes / (1024 * 1024.0))[$toStringAsFixed](fractionDigits);
    if (includeUnit) {
      output = output + " MB";
    }
    return output;
  };
  _print_bytes.printGB = function printGB(bytes, opts) {
    let fractionDigits = opts && 'fractionDigits' in opts ? opts.fractionDigits : 1;
    let includeUnit = opts && 'includeUnit' in opts ? opts.includeUnit : false;
    let output = (bytes / (1024 * 1024.0 * 1024.0))[$toStringAsFixed](fractionDigits);
    if (includeUnit) {
      output = output + " GB";
    }
    return output;
  };
  dart.trackLibraries("packages/leak_tracker/src/leak_tracking/primitives/_print_bytes.dart", {
    "package:leak_tracker/src/leak_tracking/primitives/_print_bytes.dart": _print_bytes
  }, {
  }, '{"version":3,"sourceRoot":"","sources":["_print_bytes.dart"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;4DAKO;QACD;QACA;QACA;QACC;QACD;QACA;AAEJ,QAAI,AAAM,KAAD;AACP,YAAO;;AAMT,QAAI,AAAM,AAAM,KAAP,WAAS,QAAQ,IAAI,AAAiB,gBAAD,KAAI;AAC5C,mBAAe,cAAN,KAAK;AAClB,UAAI,WAAW;AACb,iBAAA,AAAO,MAAD,GAAI;;AAEZ,YAAO,OAAM;;AAET,mBAAW,AAAM,AAAM,KAAP,WAAS;AACzB,mBAAW,AAAS,QAAD,GAAG;AACtB,mBAAW,AAAS,QAAD,GAAG;AAE5B,QAAI,AAAS,QAAD,IAAI,aAAa;AAC3B,YAAO,sBACL,KAAK,mBACW,gBAAgB,eACnB,WAAW;UAErB,KAAI,AAAS,QAAD,IAAI,aAAa;AAClC,YAAO,sBACL,KAAK,mBACW,gBAAgB,eACnB,WAAW;;AAG1B,YAAO,sBACL,KAAK,mBACW,gBAAgB,eACnB,WAAW;;EAG9B;0CAEmB;QAAY;QAAyB;AAKhD,yBAAiB,AAAe,cAAD,KAAI,IAAI,AAAM,KAAD,GAAG,MAAM,KAAK;AAC5D,iBAAmC,CAAzB,AAAe,cAAD,GAAG,0BAAwB,cAAc;AACrE,QAAI,WAAW;AACb,eAAA,AAAO,MAAD,GAAI;;AAEZ,UAAO,OAAM;EACf;0CAEmB;QAAY;QAAyB;AAClD,iBAAmC,CAAzB,AAAM,KAAD,IAAI,AAAK,OAAE,2BAAyB,cAAc;AACrE,QAAI,WAAW;AACb,eAAA,AAAO,MAAD,GAAI;;AAEZ,UAAO,OAAM;EACf;0CAEmB;QAAY;QAAyB;AAClD,iBACmC,CAAlC,AAAM,KAAD,IAAI,AAAK,AAAS,OAAP,SAAS,2BAAyB,cAAc;AACrE,QAAI,WAAW;AACb,eAAA,AAAO,MAAD,GAAI;;AAEZ,UAAO,OAAM;EACf","file":"../../../../../../../../../../packages/leak_tracker/src/leak_tracking/primitives/_print_bytes.dart.lib.js"}');
  // Exports:
  return {
    src__leak_tracking__primitives___print_bytes: _print_bytes
  };
}));

//# sourceMappingURL=_print_bytes.dart.lib.js.map
