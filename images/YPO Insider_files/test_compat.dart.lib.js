// Generated by DDC, the Dart Development Compiler (to JavaScript).
// Version: 3.3.1 (stable) (Wed Mar 6 13:09:19 2024 +0000) on "macos_arm64"
// Module: packages/flutter_test/src/test_compat.dart
// Flags: newRuntimeTypes(true), soundNullSafety(true), enableAsserts(true)
define(['dart_sdk', 'packages/test_api/src/backend/message.dart', 'packages/test_api/src/backend/state.dart', 'packages/test_api/src/backend/declarer.dart', 'packages/leak_tracker_testing/src/leak_testing.dart', 'packages/leak_tracker_flutter_testing/src/testing.dart', 'packages/test_api/src/backend/suite.dart', 'packages/test_api/src/backend/suite_platform.dart', 'packages/test_api/src/backend/runtime.dart'], (function load__packages__flutter_test__src__test_compat_dart(dart_sdk, packages__test_api__src__backend__message$46dart, packages__test_api__src__backend__state$46dart, packages__test_api__src__backend__declarer$46dart, packages__leak_tracker_testing__src__leak_testing$46dart, packages__leak_tracker_flutter_testing__src__testing$46dart, packages__test_api__src__backend__suite$46dart, packages__test_api__src__backend__suite_platform$46dart, packages__test_api__src__backend__runtime$46dart) {
  'use strict';
  const dart_rti = dart_sdk.dart_rti;
  const core = dart_sdk.core;
  const _interceptors = dart_sdk._interceptors;
  const collection = dart_sdk.collection;
  const async = dart_sdk.async;
  const _internal = dart_sdk._internal;
  const dart = dart_sdk.dart;
  const dartx = dart_sdk.dartx;
  const message$ = packages__test_api__src__backend__message$46dart.src__backend__message;
  const state$ = packages__test_api__src__backend__state$46dart.src__backend__state;
  const invoker = packages__test_api__src__backend__declarer$46dart.src__backend__invoker;
  const declarer$ = packages__test_api__src__backend__declarer$46dart.src__backend__declarer;
  const leak_testing = packages__leak_tracker_testing__src__leak_testing$46dart.src__leak_testing;
  const testing = packages__leak_tracker_flutter_testing__src__testing$46dart.src__testing;
  const suite$ = packages__test_api__src__backend__suite$46dart.src__backend__suite;
  const suite_platform = packages__test_api__src__backend__suite_platform$46dart.src__backend__suite_platform;
  const runtime = packages__test_api__src__backend__runtime$46dart.src__backend__runtime;
  var test_compat = Object.create(dart.library);
  var $toString = dartx.toString;
  var $isEmpty = dartx.isEmpty;
  var $length = dartx.length;
  var $isNotEmpty = dartx.isNotEmpty;
  var $padLeft = dartx.padLeft;
  var $modulo = dartx['%'];
  var $add = dartx.add;
  var $remove = dartx.remove;
  var $times = dartx['*'];
  var $split = dartx.split;
  var $first = dartx.first;
  var $skip = dartx.skip;
  var $take = dartx.take;
  var $last = dartx.last;
  dart._checkModuleNullSafetyMode(true);
  dart._checkModuleRuntimeTypes(true);
  var T = {
    LiveTest: () => (T.LiveTest = dart.constFn(dart_rti.findType("test_api__src__backend__live_test|LiveTest")))(),
    Test: () => (T.Test = dart.constFn(dart_rti.findType("test_api__src__backend__test|Test")))(),
    StreamSubscriptionOfvoid: () => (T.StreamSubscriptionOfvoid = dart.constFn(dart_rti.findType("async|StreamSubscription<~>")))(),
    StateTovoid: () => (T.StateTovoid = dart.constFn(dart_rti.findType("~(test_api__src__backend__state|State)")))(),
    AsyncErrorTovoid: () => (T.AsyncErrorTovoid = dart.constFn(dart_rti.findType("~(async|AsyncError)")))(),
    MessageTovoid: () => (T.MessageTovoid = dart.constFn(dart_rti.findType("~(test_api__src__backend__message|Message)")))(),
    LiveTestTovoid: () => (T.LiveTestTovoid = dart.constFn(dart_rti.findType("~(test_api__src__backend__live_test|LiveTest)")))(),
    LiveTestAndStateTovoid: () => (T.LiveTestAndStateTovoid = dart.constFn(dart_rti.findType("~(test_api__src__backend__live_test|LiveTest,test_api__src__backend__state|State)")))(),
    LiveTestAndObjectAndStackTraceTovoid: () => (T.LiveTestAndObjectAndStackTraceTovoid = dart.constFn(dart_rti.findType("~(test_api__src__backend__live_test|LiveTest,core|Object,core|StackTrace)")))(),
    VoidTovoid: () => (T.VoidTovoid = dart.constFn(dart_rti.findType("~()")))(),
    String__Tovoid: () => (T.String__Tovoid = dart.constFn(dart_rti.findType("~(core|String{color:core|String?,suffix:core|String?})")))(),
    DurationToString: () => (T.DurationToString = dart.constFn(dart_rti.findType("core|String(core|Duration)")))(),
    LiveTestToString: () => (T.LiveTestToString = dart.constFn(dart_rti.findType("core|String(test_api__src__backend__live_test|LiveTest)")))(),
    StringTovoid: () => (T.StringTovoid = dart.constFn(dart_rti.findType("~(core|String)")))(),
    ListOfLiveTest: () => (T.ListOfLiveTest = dart.constFn(dart_rti.findType("core|List<test_api__src__backend__live_test|LiveTest>")))(),
    ListOfTest: () => (T.ListOfTest = dart.constFn(dart_rti.findType("core|List<test_api__src__backend__test|Test>")))(),
    String: () => (T.String = dart.constFn(dart_rti.findType("core|String")))(),
    bool: () => (T.bool = dart.constFn(dart_rti.findType("core|bool")))(),
    Stopwatch: () => (T.Stopwatch = dart.constFn(dart_rti.findType("core|Stopwatch")))(),
    intN: () => (T.intN = dart.constFn(dart_rti.findType("core|int?")))(),
    StringN: () => (T.StringN = dart.constFn(dart_rti.findType("core|String?")))(),
    SetOfStreamSubscriptionOfvoid: () => (T.SetOfStreamSubscriptionOfvoid = dart.constFn(dart_rti.findType("core|Set<async|StreamSubscription<~>>")))(),
    Group: () => (T.Group = dart.constFn(dart_rti.findType("test_api__src__backend__group|Group")))(),
    void: () => (T.void = dart.constFn(dart_rti.findType("~")))(),
    FutureOfNull: () => (T.FutureOfNull = dart.constFn(dart_rti.findType("async|Future<core|Null>")))(),
    VoidToNull: () => (T.VoidToNull = dart.constFn(dart_rti.findType("core|Null()")))(),
    VoidToFutureOfvoid: () => (T.VoidToFutureOfvoid = dart.constFn(dart_rti.findType("async|Future<~>()")))(),
    DeclarerN: () => (T.DeclarerN = dart.constFn(dart_rti.findType("test_api__src__backend__declarer|Declarer?")))(),
    FutureOfvoid: () => (T.FutureOfvoid = dart.constFn(dart_rti.findType("async|Future<~>")))()
  };
  var G = {
    JSArrayOfLiveTest: () => (G.JSArrayOfLiveTest = dart.constFn(_interceptors.JSArray$(T.LiveTest())))(),
    JSArrayOfTest: () => (G.JSArrayOfTest = dart.constFn(_interceptors.JSArray$(T.Test())))(),
    LinkedHashSetOfStreamSubscriptionOfvoid: () => (G.LinkedHashSetOfStreamSubscriptionOfvoid = dart.constFn(collection.LinkedHashSet$(T.StreamSubscriptionOfvoid())))(),
    FutureOfvoid: () => (G.FutureOfvoid = dart.constFn(async.Future$(T.void())))(),
    JSArrayOfGroup: () => (G.JSArrayOfGroup = dart.constFn(_interceptors.JSArray$(T.Group())))()
  };
  const CT = Object.create({
    _: () => (C, CT)
  });
  dart.defineLazy(CT, {
    get C0() {
      return C[0] = dart.fn(test_compat._tearDownForTestFile, T.VoidToFutureOfvoid());
    },
    get C1() {
      return C[1] = dart.const(new _internal.Symbol.new('test.declarer'));
    }
  }, false);
  var C = Array(2).fill(void 0);
  var I = [
    "package:flutter_test/src/test_compat.dart",
    "dart:core"
  ];
  var _stopwatch = dart.privateName(test_compat, "_stopwatch");
  var _lastProgressPassed = dart.privateName(test_compat, "_lastProgressPassed");
  var _lastProgressSkipped = dart.privateName(test_compat, "_lastProgressSkipped");
  var _lastProgressFailed = dart.privateName(test_compat, "_lastProgressFailed");
  var _lastProgressMessage = dart.privateName(test_compat, "_lastProgressMessage");
  var _lastProgressSuffix = dart.privateName(test_compat, "_lastProgressSuffix");
  var _subscriptions = dart.privateName(test_compat, "_subscriptions");
  var _printPath = dart.privateName(test_compat, "_printPath");
  var _green = dart.privateName(test_compat, "_green");
  var _red = dart.privateName(test_compat, "_red");
  var _yellow = dart.privateName(test_compat, "_yellow");
  var _bold = dart.privateName(test_compat, "_bold");
  var _noColor = dart.privateName(test_compat, "_noColor");
  var _description = dart.privateName(test_compat, "_description");
  var _progressLine = dart.privateName(test_compat, "_progressLine");
  var _onStateChange = dart.privateName(test_compat, "_onStateChange");
  var _onError = dart.privateName(test_compat, "_onError");
  var _onTestStarted = dart.privateName(test_compat, "_onTestStarted");
  var _onDone = dart.privateName(test_compat, "_onDone");
  var _timeString = dart.privateName(test_compat, "_timeString");
  test_compat._Reporter = class _Reporter extends core.Object {
    static ['_#new#tearOff'](opts) {
      let color = opts && 'color' in opts ? opts.color : true;
      let printPath = opts && 'printPath' in opts ? opts.printPath : true;
      return new test_compat._Reporter.new({color: color, printPath: printPath});
    }
    [_onTestStarted](liveTest) {
      if (!this[_stopwatch].isRunning) {
        this[_stopwatch].start();
      }
      this[_progressLine](this[_description](liveTest));
      this[_subscriptions].add(liveTest.onStateChange.listen(dart.fn(state => this[_onStateChange](liveTest, state), T.StateTovoid())));
      this[_subscriptions].add(liveTest.onError.listen(dart.fn(error => this[_onError](liveTest, error.error, error.stackTrace), T.AsyncErrorTovoid())));
      this[_subscriptions].add(liveTest.onMessage.listen(dart.fn(message => {
        this[_progressLine](this[_description](liveTest));
        let text = message.text;
        if (dart.equals(message.type, message$.MessageType.skip)) {
          text = "  " + this[_yellow] + text + this[_noColor];
        }
        this.log(text);
      }, T.MessageTovoid())));
    }
    [_onStateChange](liveTest, state) {
      if (state.status !== state$.Status.complete) {
        return;
      }
    }
    [_onError](liveTest, error, stackTrace) {
      if (liveTest.state.status !== state$.Status.complete) {
        return;
      }
      this[_progressLine](this[_description](liveTest), {suffix: " " + this[_bold] + this[_red] + "[E]" + this[_noColor]});
      this.log(test_compat._indent(dart.toString(error)));
      this.log(test_compat._indent(dart.str(stackTrace)));
    }
    [_onDone]() {
      let success = this.failed[$isEmpty];
      if (!success) {
        this[_progressLine]("Some tests failed.", {color: this[_red]});
      } else if (this.passed[$isEmpty]) {
        this[_progressLine]("All tests skipped.");
      } else {
        this[_progressLine]("All tests passed!");
      }
    }
    [_progressLine](message, opts) {
      let color = opts && 'color' in opts ? opts.color : null;
      let suffix = opts && 'suffix' in opts ? opts.suffix : null;
      if (this.passed[$length] === this[_lastProgressPassed] && this.skipped[$length] === this[_lastProgressSkipped] && this.failed[$length] === this[_lastProgressFailed] && message === this[_lastProgressMessage] && (suffix == null || suffix == this[_lastProgressSuffix])) {
        return;
      }
      this[_lastProgressPassed] = this.passed[$length];
      this[_lastProgressSkipped] = this.skipped[$length];
      this[_lastProgressFailed] = this.failed[$length];
      this[_lastProgressMessage] = message;
      this[_lastProgressSuffix] = suffix;
      if (suffix != null) {
        message = message + dart.notNull(suffix);
      }
      color == null ? color = "" : null;
      let duration = this[_stopwatch].elapsed;
      let buffer = new core.StringBuffer.new();
      buffer.write(this[_timeString](duration) + " ");
      buffer.write(this[_green]);
      buffer.write("+");
      buffer.write(this.passed[$length]);
      buffer.write(this[_noColor]);
      if (this.skipped[$isNotEmpty]) {
        buffer.write(this[_yellow]);
        buffer.write(" ~");
        buffer.write(this.skipped[$length]);
        buffer.write(this[_noColor]);
      }
      if (this.failed[$isNotEmpty]) {
        buffer.write(this[_red]);
        buffer.write(" -");
        buffer.write(this.failed[$length]);
        buffer.write(this[_noColor]);
      }
      buffer.write(": ");
      buffer.write(color);
      buffer.write(message);
      buffer.write(this[_noColor]);
      this.log(dart.toString(buffer));
    }
    [_timeString](duration) {
      let minutes = duration.inMinutes[$toString]()[$padLeft](2, "0");
      let seconds = duration.inSeconds[$modulo](60)[$toString]()[$padLeft](2, "0");
      return minutes + ":" + seconds;
    }
    [_description](liveTest) {
      let name = liveTest.test.name;
      if (this[_printPath] && liveTest.suite.path != null) {
        name = dart.str(liveTest.suite.path) + ": " + name;
      }
      return name;
    }
    log(message) {
      core.print(message);
    }
  };
  (test_compat._Reporter.new = function(opts) {
    let color = opts && 'color' in opts ? opts.color : true;
    let printPath = opts && 'printPath' in opts ? opts.printPath : true;
    this.passed = G.JSArrayOfLiveTest().of([]);
    this.failed = G.JSArrayOfLiveTest().of([]);
    this.skipped = G.JSArrayOfTest().of([]);
    this[_stopwatch] = new core.Stopwatch.new();
    this[_lastProgressPassed] = null;
    this[_lastProgressSkipped] = null;
    this[_lastProgressFailed] = null;
    this[_lastProgressMessage] = null;
    this[_lastProgressSuffix] = null;
    this[_subscriptions] = G.LinkedHashSetOfStreamSubscriptionOfvoid().new();
    this[_printPath] = printPath;
    this[_green] = color ? "[32m" : "";
    this[_red] = color ? "[31m" : "";
    this[_yellow] = color ? "[33m" : "";
    this[_bold] = color ? "[1m" : "";
    this[_noColor] = color ? "[0m" : "";
    ;
  }).prototype = test_compat._Reporter.prototype;
  dart.addTypeTests(test_compat._Reporter);
  dart.addRtiResources(test_compat._Reporter, ["flutter_test__src__test_compat|_Reporter"]);
  dart.addTypeCaches(test_compat._Reporter);
  dart.setMethodSignature(test_compat._Reporter, () => dart.global.Object.setPrototypeOf({
    [_onTestStarted]: T.LiveTestTovoid(),
    [_onStateChange]: T.LiveTestAndStateTovoid(),
    [_onError]: T.LiveTestAndObjectAndStackTraceTovoid(),
    [_onDone]: T.VoidTovoid(),
    [_progressLine]: T.String__Tovoid(),
    [_timeString]: T.DurationToString(),
    [_description]: T.LiveTestToString(),
    log: T.StringTovoid()
  }, dart.getMethods(dart.global.Object.getPrototypeOf(test_compat._Reporter))));
  dart.setLibraryUri(test_compat._Reporter, I[0]);
  dart.setFieldSignature(test_compat._Reporter, () => dart.global.Object.setPrototypeOf({
    passed: {type: T.ListOfLiveTest(), isConst: false, isFinal: true, libraryUri: I[1]},
    failed: {type: T.ListOfLiveTest(), isConst: false, isFinal: true, libraryUri: I[1]},
    skipped: {type: T.ListOfTest(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_green]: {type: T.String(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_red]: {type: T.String(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_yellow]: {type: T.String(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_bold]: {type: T.String(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_noColor]: {type: T.String(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_printPath]: {type: T.bool(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_stopwatch]: {type: T.Stopwatch(), isConst: false, isFinal: true, libraryUri: I[1]},
    [_lastProgressPassed]: {type: T.intN(), isConst: false, isFinal: false, libraryUri: I[1]},
    [_lastProgressSkipped]: {type: T.intN(), isConst: false, isFinal: false, libraryUri: I[1]},
    [_lastProgressFailed]: {type: T.intN(), isConst: false, isFinal: false, libraryUri: I[1]},
    [_lastProgressMessage]: {type: T.StringN(), isConst: false, isFinal: false, libraryUri: I[1]},
    [_lastProgressSuffix]: {type: T.StringN(), isConst: false, isFinal: false, libraryUri: I[1]},
    [_subscriptions]: {type: T.SetOfStreamSubscriptionOfvoid(), isConst: false, isFinal: true, libraryUri: I[1]}
  }, dart.getFields(dart.global.Object.getPrototypeOf(test_compat._Reporter))));
  var _is = dart.privateName(dart_rti, "_is");
  var _as = dart.privateName(dart_rti, "_as");
  test_compat._runGroup = function _runGroup(suiteConfig, group, parents, reporter) {
    return async.async(T.void(), function* _runGroup() {
      parents[$add](group);
      try {
        let skipGroup = group.metadata.skip;
        let setUpAllSucceeded = true;
        if (!skipGroup && group.setUpAll != null) {
          let liveTest = dart.nullCheck(group.setUpAll).load(suiteConfig, {groups: parents});
          yield test_compat._runLiveTest(suiteConfig, liveTest, reporter, {countSuccess: false});
          setUpAllSucceeded = liveTest.state.result.isPassing;
        }
        if (setUpAllSucceeded) {
          for (let entry of group.entries) {
            if (T.Group()[_is](entry)) {
              yield test_compat._runGroup(suiteConfig, entry, parents, reporter);
            } else if (entry.metadata.skip) {
              yield test_compat._runSkippedTest(suiteConfig, T.Test()[_as](entry), parents, reporter);
            } else {
              let test = T.Test()[_as](entry);
              yield test_compat._runLiveTest(suiteConfig, test.load(suiteConfig, {groups: parents}), reporter);
            }
          }
        }
        if (!skipGroup && group.tearDownAll != null) {
          let liveTest = dart.nullCheck(group.tearDownAll).load(suiteConfig, {groups: parents});
          yield test_compat._runLiveTest(suiteConfig, liveTest, reporter, {countSuccess: false});
        }
      } finally {
        parents[$remove](group);
      }
    });
  };
  test_compat._runLiveTest = function _runLiveTest(suiteConfig, liveTest, reporter, opts) {
    let countSuccess = opts && 'countSuccess' in opts ? opts.countSuccess : true;
    return async.async(T.void(), function* _runLiveTest() {
      reporter[_onTestStarted](liveTest);
      yield G.FutureOfvoid().microtask(dart.bind(liveTest, 'run'));
      yield async.awaitWithTypeCheck(T.FutureOfNull(), null);
      let isSuccess = liveTest.state.result.isPassing;
      if (isSuccess) {
        reporter.passed[$add](liveTest);
      } else {
        reporter.failed[$add](liveTest);
      }
    });
  };
  test_compat._runSkippedTest = function _runSkippedTest(suiteConfig, test, parents, reporter) {
    return async.async(T.void(), function* _runSkippedTest() {
      let skipped = new invoker.LocalTest.new(test.name, test.metadata, dart.fn(() => {
      }, T.VoidToNull()), {trace: test.trace});
      if (skipped.metadata.skipReason != null) {
        reporter.log("Skip: " + dart.str(skipped.metadata.skipReason));
      }
      let liveTest = skipped.load(suiteConfig);
      reporter[_onTestStarted](liveTest);
      reporter.skipped[$add](skipped);
    });
  };
  test_compat.test = function test(description, body, opts) {
    let testOn = opts && 'testOn' in opts ? opts.testOn : null;
    let timeout = opts && 'timeout' in opts ? opts.timeout : null;
    let skip = opts && 'skip' in opts ? opts.skip : null;
    let tags = opts && 'tags' in opts ? opts.tags : null;
    let onPlatform = opts && 'onPlatform' in opts ? opts.onPlatform : null;
    let retry = opts && 'retry' in opts ? opts.retry : null;
    test_compat._maybeConfigureTearDownForTestFile();
    test_compat._declarer.test(dart.toString(description), body, {testOn: testOn, timeout: timeout, skip: skip, onPlatform: onPlatform, tags: tags, retry: retry});
  };
  test_compat.group = function group(description, body, opts) {
    let skip = opts && 'skip' in opts ? opts.skip : null;
    let retry = opts && 'retry' in opts ? opts.retry : null;
    test_compat._maybeConfigureTearDownForTestFile();
    test_compat._declarer.group(dart.toString(description), body, {skip: skip, retry: retry});
  };
  test_compat.setUp = function setUp(body) {
    test_compat._maybeConfigureTearDownForTestFile();
    test_compat._declarer.setUp(body);
  };
  test_compat.tearDown = function tearDown(body) {
    test_compat._maybeConfigureTearDownForTestFile();
    test_compat._declarer.tearDown(body);
  };
  test_compat.setUpAll = function setUpAll(body) {
    test_compat._maybeConfigureTearDownForTestFile();
    test_compat._declarer.setUpAll(body);
  };
  test_compat.tearDownAll = function tearDownAll(body) {
    test_compat._maybeConfigureTearDownForTestFile();
    test_compat._declarer.tearDownAll(body);
  };
  test_compat._maybeConfigureTearDownForTestFile = function _maybeConfigureTearDownForTestFile() {
    if (test_compat._isTearDownForTestFileConfigured || !test_compat._shouldConfigureTearDownForTestFile()) {
      return;
    }
    test_compat._declarer.tearDownAll(C[0] || CT.C0);
    test_compat._isTearDownForTestFileConfigured = true;
  };
  test_compat._shouldConfigureTearDownForTestFile = function _shouldConfigureTearDownForTestFile() {
    return leak_testing.LeakTesting.enabled;
  };
  test_compat._tearDownForTestFile = function _tearDownForTestFile() {
    return async.async(T.void(), function* _tearDownForTestFile() {
      yield testing.maybeTearDownLeakTrackingForAll();
    });
  };
  test_compat._indent = function _indent(string, opts) {
    let size = opts && 'size' in opts ? opts.size : null;
    let first = opts && 'first' in opts ? opts.first : null;
    size == null ? size = first == null ? 2 : first.length : null;
    return test_compat._prefixLines(string, " "[$times](size), {first: first});
  };
  test_compat._prefixLines = function _prefixLines(text, prefix, opts) {
    let first = opts && 'first' in opts ? opts.first : null;
    let last = opts && 'last' in opts ? opts.last : null;
    let single = opts && 'single' in opts ? opts.single : null;
    first == null ? first = prefix : null;
    last == null ? last = prefix : null;
    single == null ? single = first : null;
    let lines = text[$split]("\n");
    if (lines[$length] === 1) {
      return dart.str(single) + text;
    }
    let buffer = new core.StringBuffer.new(dart.str(first) + lines[$first] + "\n");
    for (let line of lines[$skip](1)[$take](lines[$length] - 2)) {
      buffer.writeln(prefix + line);
    }
    buffer.write(dart.str(last) + lines[$last]);
    return dart.toString(buffer);
  };
  dart.copyProperties(test_compat, {
    get _declarer() {
      let declarer = T.DeclarerN()[_as](async.Zone.current._get(C[1] || CT.C1));
      if (declarer != null) {
        return declarer;
      }
      if (test_compat._localDeclarer == null) {
        test_compat._localDeclarer = new declarer$.Declarer.new();
        G.FutureOfvoid().new(dart.fn(() => {
          invoker.Invoker.guard(T.FutureOfvoid(), dart.fn(() => async.async(T.void(), function*() {
            let reporter = new test_compat._Reporter.new({color: false});
            let group = test_compat._declarer.build();
            let suite = new suite$.Suite.new(group, new suite_platform.SuitePlatform.new(runtime.Runtime.vm));
            yield test_compat._runGroup(suite, group, G.JSArrayOfGroup().of([]), reporter);
            reporter[_onDone]();
          }), T.VoidToFutureOfvoid()));
        }, T.VoidToNull()));
      }
      return dart.nullCheck(test_compat._localDeclarer);
    }
  });
  dart.defineLazy(test_compat, {
    /*test_compat._localDeclarer*/get _localDeclarer() {
      return null;
    },
    set _localDeclarer(value) {},
    /*test_compat._isTearDownForTestFileConfigured*/get _isTearDownForTestFileConfigured() {
      return false;
    },
    set _isTearDownForTestFileConfigured(value) {}
  }, false);
  dart.moduleConstCaches.set("packages/flutter_test/src/test_compat.dart", C);
  dart_rti._Universe.addRules(dart.typeUniverse, JSON.parse('{"test_api__src__backend__test|Test":{"test_api__src__backend__group_entry|GroupEntry":[]},"async|StreamSubscription":{"StreamSubscription.T":"1"},"async|AsyncError":{"core|Error":[]},"core|String":{"Comparable.T":"core|String","core|Comparable":["core|String"],"core|Pattern":[]},"core|Comparable":{"Comparable.T":"1"},"core|Duration":{"Comparable.T":"core|Duration","core|Comparable":["core|Duration"]},"core|List":{"List.E":"1","Iterable.E":"1","core|Iterable":["1"],"_ListIterable.E":"1","core|_ListIterable":["1"],"EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"]},"core|Iterable":{"Iterable.E":"1"},"core|_ListIterable":{"_ListIterable.E":"1","EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"],"Iterable.E":"1","core|Iterable":["1"]},"_internal|EfficientLengthIterable":{"EfficientLengthIterable.T":"1","Iterable.E":"1","core|Iterable":["1"]},"_internal|HideEfficientLengthIterable":{"HideEfficientLengthIterable.T":"1","Iterable.E":"1","core|Iterable":["1"]},"core|int":{"core|num":[],"Comparable.T":"core|num","core|Comparable":["core|num"]},"core|num":{"Comparable.T":"core|num","core|Comparable":["core|num"]},"core|Set":{"Set.E":"1","Iterable.E":"1","core|Iterable":["1"],"_SetIterable.E":"1","core|_SetIterable":["1"],"EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"]},"core|_SetIterable":{"_SetIterable.E":"1","EfficientLengthIterable.T":"1","_internal|EfficientLengthIterable":["1"],"HideEfficientLengthIterable.T":"1","_internal|HideEfficientLengthIterable":["1"],"Iterable.E":"1","core|Iterable":["1"]},"test_api__src__backend__group|Group":{"test_api__src__backend__group_entry|GroupEntry":[]},"async|Future":{"Future.T":"1"}}'));
  dart.trackLibraries("packages/flutter_test/src/test_compat.dart", {
    "package:flutter_test/src/test_compat.dart": test_compat
  }, {
  }, '{"version":3,"sourceRoot":"","sources":["test_compat.dart"],"names":[],"mappings":"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","file":"../../../../../../../../packages/flutter_test/src/test_compat.dart.lib.js"}');
  // Exports:
  return {
    src__test_compat: test_compat
  };
}));

//# sourceMappingURL=test_compat.dart.lib.js.map
